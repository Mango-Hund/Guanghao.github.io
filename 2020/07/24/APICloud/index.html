<!DOCTYPE html>
<html lang="zh-CN">


<!-- 样式一（鼠标点击更换样式） -->
<script src="https://g.joyinshare.com/hc/ribbon.min.js" type="text/javascript"></script>

<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.jpg">
  <link rel="icon" type="image/png" href="/img/favicon.jpg">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  <title>APICloud - Liu&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github.min.css" />
  

  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_yg9cfy8wd6.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script  src="/js/utils.js" ></script>
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Liu-Space</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/mountains.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-07-24 21:03">
      2020年7月24日 晚上
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      10.8k 字
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      129
       分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <p><strong><em>第一天：了解APICloud平台、理解APICloud应用设计思想、掌握平台使用流程。学习如何对一款APP进行需求分析、功能分解和架构设计等编码之前重要的准备工作。</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/99f27562d0b602d064b57569475dc00d.zip" target="_blank" rel="noopener">课程相关资料</a></p>
<p><a href="http://downloadpkg.apicloud.com/app/download?path=http://7y44yj.com1.z0.glb.clouddn.com/c7432757db98f0d6f742a2522461c0a5_d" target="_blank" rel="noopener">本期课程演示案例（仿每日优鲜APP）</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day1.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="学习目标-gt-gt-查看配套的视频讲解"><a href="#学习目标-gt-gt-查看配套的视频讲解" class="headerlink" title="学习目标&gt;&gt;查看配套的视频讲解"></a>学习目标<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/1.1%E8%AF%BE%E7%A8%8B%E4%BB%8B%E7%BB%8D%EF%BC%8B%E7%AC%AC%E4%B8%80%E5%A4%A9%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><ul>
<li>总体上了解一下APICloud平台，重点介绍相关的学习资源，入门资料，常见的FAQ等</li>
<li>明确我们这七天要开发一个什么样的APP，明确功能需求，跟上每天的课程节奏，可以课前预习</li>
<li>梳理出对于一款APP，在开发之前（Coding之前），一些通用而又重要的准备工作，适合于所有APP开发，而非单指APICloud</li>
</ul>
<h1 id="主要内容"><a href="#主要内容" class="headerlink" title="主要内容"></a>主要内容</h1><ol>
<li><p><strong><a href="#P1">APICloud平台介绍</a></strong></p>
<p> 1.1 查看APICloud平台能力</p>
<p> 1.2 APICloud应用的开发模式和使用的技术语言</p>
<p> 1.3 APICloud技术、产品、生态、案例、商业模式的总体介绍</p>
<p> 1.4 APICloud开发者相关的服务支撑体系</p>
<p> 1.5 新手应该如何开始入门APICloud应用开发</p>
</li>
<li><p><strong><a href="#P2">APICloud平台使用流程</a></strong></p>
<p> 2.1 APICloud云控制台使用</p>
<p> 2.2 选择一款主流H5编码工具并安装相应的APICloud插件</p>
<p> 2.3 APICloud应用开发的基础操作流程</p>
</li>
<li><p><strong><a href="#P3">应用需求分析</a></strong></p>
<p>  3.1 梳理需求说明文档</p>
<p>  3.2 进行UE/UI设计</p>
</li>
<li><p><strong><a href="#P4">总体架构设计</a></strong></p>
<p>  4.1 APICloud应用设计思想</p>
</li>
<li><p><strong><a href="#P5">UI架构设计</a></strong></p>
<p> 5.1 APICloud应用的UI组成结构</p>
<p> 5.2 APICloud界面布局5大组件</p>
<p> 5.3 APICloud混合渲染技术原理</p>
<p> 5.4 使用APICloud5大UI组件完成应用UI架构设计</p>
<p> 5.5 输出APP的UI架构设计文档</p>
</li>
<li><p><strong><a href="#P6">功能点分解</a></strong></p>
<p> 6.1 基于需求说明，梳理出主要功能点</p>
<p>6.2 为每个功能点，给出合适的技术实现方案</p>
<p>6.3 在APICloud聚合API找到功能点对应的模块</p>
<p>6.4 输出APP的功能模块分解文档</p>
</li>
<li><p><strong><a href="#P7">开放服务选择</a></strong></p>
<p> 7.1 基于需求说明，梳理出需要使用的开放服务</p>
<p> 7.2 调研不同的开放服务商所提供的服务是否能满足自己应用的需求</p>
<p> 7.3 在APICloud聚合API找到对应的开放服务模块</p>
<p> 7.4 输出APP的开放服务分解文档</p>
</li>
<li><p><strong><a href="#P8">数据接口定义</a></strong></p>
<p> 8.1 定义服务端接口文档</p>
<p> 8.2 输出服务端接口调试文件</p>
</li>
<li><p><strong><a href="#P9">应用证书和第三方Key申请</a></strong></p>
<p> 9.1 申请应用证书</p>
<p> 9.2 确定应用包名</p>
<p> 9.3 申请开放平台相关Key</p>
</li>
</ol>
<div id="P1"></div>

<h1 id="1-了解APICloud平台"><a href="#1-了解APICloud平台" class="headerlink" title="1. 了解APICloud平台"></a>1. 了解APICloud平台</h1><h3 id="1-1-查看APICloud平台能力-gt-gt-查看配套的视频讲解"><a href="#1-1-查看APICloud平台能力-gt-gt-查看配套的视频讲解" class="headerlink" title="1.1 查看APICloud平台能力 &gt;&gt;查看配套的视频讲解"></a>1.1 查看APICloud平台能力 <a href="http://apicloudspace.b0.upaiyun.com/video-seven1/1.2%20%E6%9F%A5%E7%9C%8BAPICloud%E5%B9%B3%E5%8F%B0%E8%83%BD%E5%8A%9B.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><blockquote>
<p>要使用APICloud平台开发APP，很多用户的第一个问题是：APICloud平台能否满足自己的APP开发需求? </p>
<p>可以带着目的来了解APICloud平台能力，掌握如何快速查找相关的能力</p>
</blockquote>
<p>  <a href="http://docs.apicloud.com/" target="_blank" rel="noopener">查看API文档</a><br>  <em>了解APICloud文档组织结构，学会通过文档搜索，找到需要的功能</em></p>
<p>APICloud平台功能体系:</p>
<p>  <img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.1.png" srcset="/img/loading.gif" alt="APICloud扩展能力"></p>
<h3 id="1-2-APICloud应用的开发模式和使用的技术语言-gt-gt-查看配套的视频讲解"><a href="#1-2-APICloud应用的开发模式和使用的技术语言-gt-gt-查看配套的视频讲解" class="headerlink" title="1.2 APICloud应用的开发模式和使用的技术语言&gt;&gt;查看配套的视频讲解"></a>1.2 APICloud应用的开发模式和使用的技术语言<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/1.3%20%E5%BC%80%E5%8F%91%E6%A8%A1%E5%BC%8F%2B%E6%8A%80%E6%9C%AF%E8%AF%AD%E8%A8%80%2B%E5%B9%B3%E5%8F%B0%E5%AE%9A%E4%BD%8D.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><blockquote>
<p>使用APICloud开发APP需要什么技术? 自己的团队是否适合?</p>
<p>学习曲线是什么样子？入门是否简单？</p>
</blockquote>
<p> APICloud应用开发模式： <em>标准的HTML/CSS/JS + APICloud扩展API</em><br><img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.2.png" srcset="/img/loading.gif" alt="图片说明"></p>
<p>  APICloud扩展API调用方式：<br>  就是使用标准的JavaScript语法，与标准的JavaScript对象调用方式一致。<br>  <pre><code class="hljs reasonml">核心模块在 window.api 对象下，不需要单独引用，可以直接调用
api.<span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">param</span>, <span class="hljs-params">callback</span>)</span>;

扩展模块需要 require 引入，遵守 CommonJS 规范
var <span class="hljs-keyword">module</span> = api.require('moduleName');
<span class="hljs-keyword">module</span>.<span class="hljs-keyword">method</span><span class="hljs-constructor">Name(<span class="hljs-params">param</span>, <span class="hljs-params">callback</span>)</span>;

param: &#123;&#125; <span class="hljs-comment">//参数，是一个JSON对象</span>
callback: <span class="hljs-keyword">function</span>(ret, err)&#123;&#125; <span class="hljs-comment">//回调函数，是一个Function对象，方法调用的结果通过此函数返回</span></code></pre><br>  例如：</p>
<ul>
<li>打开新窗口：<a href="http://docs.apicloud.com/Client-API/api#33" target="_blank" rel="noopener">api.openWin();</a></li>
<li>打开系统通讯录：<a href="http://docs.apicloud.com/Client-API/api#26" target="_blank" rel="noopener">api.openContacts();</a></li>
<li>录音：<a href="http://docs.apicloud.com/Client-API/api#54" target="_blank" rel="noopener">api.startRecord();</a></li>
<li>缓存网络图片：<a href="http://docs.apicloud.com/Client-API/api#78" target="_blank" rel="noopener">api.imageCache();</a></li>
<li>加载fs模块：<a href="http://docs.apicloud.com/Client-API/api#000" target="_blank" rel="noopener">var fs = api.require(‘fs’);</a></li>
<li>新建一个文件：<a href="http://docs.apicloud.com/Client-API/Func-Ext/fs#2" target="_blank" rel="noopener">fs.createFile();</a></li>
<li>加载二维码/条形码扫描模块：<a href="http://docs.apicloud.com/Client-API/api#000" target="_blank" rel="noopener">var scanner = api.require(‘FNScanner’);</a></li>
<li><p>打开二维码/条形码扫描: <a href="http://docs.apicloud.com/Client-API/Func-Ext/FNScanner#1" target="_blank" rel="noopener">scanner.openScanner();</a></p>
<blockquote>
<p><em>你可以把H5理解一门技术一门语言，但他还没达到一个平台的水平</em></p>
</blockquote>
</li>
</ul>
<p>为什么要扩展API？</p>
<p>  <img src="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/f062adcb294b2ebb4c61e4703bec3a6e.png" srcset="/img/loading.gif" alt="为什么扩展API"></p>
<p><a href="http://www.apicloud.com/modulestore" target="_blank" rel="noopener">APICloud聚合API</a></p>
<p>APICloud平台定位：</p>
<p>  <img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.4.png" srcset="/img/loading.gif" alt="APICloud平台定位"></p>
<h3 id="1-3-APICloud技术、产品、生态、案例、商业模式的总体介绍-gt-gt-查看配套的视频讲解"><a href="#1-3-APICloud技术、产品、生态、案例、商业模式的总体介绍-gt-gt-查看配套的视频讲解" class="headerlink" title="1.3 APICloud技术、产品、生态、案例、商业模式的总体介绍&gt;&gt;查看配套的视频讲解"></a>1.3 APICloud技术、产品、生态、案例、商业模式的总体介绍<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/1.4%20%E6%96%B9%E6%96%B9%E9%9D%A2%E9%9D%A2%E6%95%B4%E4%BD%93%E4%BB%8B%E7%BB%8D.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><blockquote>
<p>从整体各个方面来看APICloud怎么样？</p>
<p>开发模式、技术优势、功能体验、谁在使用、开发者生态、商业模式等等；</p>
</blockquote>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_list" target="_blank" rel="noopener">APICloud视频之初级代码篇第1-3讲</a></em></p>
<h3 id="1-4-了解APICloud开发者相关的服务支撑体系-gt-gt-查看配套的视频讲解"><a href="#1-4-了解APICloud开发者相关的服务支撑体系-gt-gt-查看配套的视频讲解" class="headerlink" title="1.4 了解APICloud开发者相关的服务支撑体系&gt;&gt;查看配套的视频讲解"></a>1.4 了解APICloud开发者相关的服务支撑体系<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/1.5%20%E5%BC%80%E5%8F%91%E8%80%85%E6%9C%8D%E5%8A%A1%E4%BD%93%E7%B3%BB.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><blockquote>
<p>如何解决开发者的问题？能为开发者提供哪些机会？是否有围绕开发者的生态模式？</p>
<p>是否有一个完善的开发者相关支持服务体系来方便技术学习和社区交流？</p>
<p>是否有一个完善的生态体系，来支持支撑APICloud APP开发，来满足各种不同的行业需求，来支撑实现需求复杂，功能强大的应用。</p>
</blockquote>
<ul>
<li><a href="http://www.apicloud.com" target="_blank" rel="noopener">开发平台</a></li>
<li><a href="http://www.apicloud.com/devtools" target="_blank" rel="noopener">开发工具</a></li>
<li><a href="http://docs.apicloud.com/" target="_blank" rel="noopener">开发文档</a></li>
<li><a href="http://community.apicloud.com/bbs/forum.php" target="_blank" rel="noopener">开发者社区</a></li>
<li><a href="http://www.apicloud.com/vipservice/plan" target="_blank" rel="noopener">VIP技术支持</a></li>
<li><a href="http://www.apicloud.com/source_code" target="_blank" rel="noopener">示例源码分享</a></li>
<li><a href="http://www.apicloud.com/cases" target="_blank" rel="noopener">商业案例展示</a></li>
<li><a href="http://www.apicloud.com/modulestore" target="_blank" rel="noopener">模块Store（聚合API）</a></li>
<li><a href="http://app.apicloud.com/appCustom" target="_blank" rel="noopener">模版Store</a></li>
<li><a href="http://app.apicloud.com/customIntroduce" target="_blank" rel="noopener">应用定制服务</a></li>
</ul>
<h3 id="1-5-新手应该如何开始入门APICloud应用开发-gt-gt-查看配套的视频讲解"><a href="#1-5-新手应该如何开始入门APICloud应用开发-gt-gt-查看配套的视频讲解" class="headerlink" title="1.5 新手应该如何开始入门APICloud应用开发&gt;&gt;查看配套的视频讲解"></a>1.5 新手应该如何开始入门APICloud应用开发<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/1.6%20%E6%96%B0%E6%89%8B%E5%A6%82%E4%BD%95%E5%85%A5%E9%97%A8.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><blockquote>
<p>如何能快速入门？<br>最好的学习资料来哪？</p>
<ul>
<li><a href="http://docs.apicloud.com/APICloud/junior-develop-guide" target="_blank" rel="noopener">新手开发指南</a></li>
<li><a href="http://community.apicloud.com/bbs/forum.php?mod=viewthread&amp;tid=7926&amp;extra=page%3D1" target="_blank" rel="noopener">新手教程合集贴</a></li>
<li><a href="http://www.apicloud.com/video_list" target="_blank" rel="noopener">视频教程</a></li>
<li><a href="http://www.apicloud.com/vipservice/course" target="_blank" rel="noopener">线上培训</a></li>
</ul>
</blockquote>
<div id="P2"></div>

<h1 id="2-掌握APICloud平台使用（最基本）"><a href="#2-掌握APICloud平台使用（最基本）" class="headerlink" title="2. 掌握APICloud平台使用（最基本）"></a>2. 掌握APICloud平台使用（最基本）</h1><h3 id="2-1-掌握APICloud控制台使用-gt-gt-查看配套的视频讲解"><a href="#2-1-掌握APICloud控制台使用-gt-gt-查看配套的视频讲解" class="headerlink" title="2.1 掌握APICloud控制台使用&gt;&gt;查看配套的视频讲解"></a>2.1 <a href="https://www.apicloud.com/console" target="_blank" rel="noopener">掌握APICloud控制台使用</a><a href="http://apicloudspace.b0.upaiyun.com/video-seven1/2.1%20%E6%8E%A7%E5%88%B6%E5%8F%B0%E4%BD%BF%E7%94%A8.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><p>APICloud应用开发的基本流程</p>
<ul>
<li>创建应用</li>
<li>配置图标启动页</li>
<li>设置证书</li>
<li>同步代码</li>
<li>添加模块</li>
<li>云编译</li>
</ul>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_list" target="_blank" rel="noopener">APICloud视频之初级代码篇第5讲</a></em></p>
<h3 id="2-2-选定一款主流前端编码工具并安装相应的APICloud插件-gt-gt-查看配套的视频讲解"><a href="#2-2-选定一款主流前端编码工具并安装相应的APICloud插件-gt-gt-查看配套的视频讲解" class="headerlink" title="2.2 选定一款主流前端编码工具并安装相应的APICloud插件&gt;&gt;查看配套的视频讲解"></a>2.2 <a href="https://www.apicloud.com/devtools" target="_blank" rel="noopener">选定一款主流前端编码工具并安装相应的APICloud插件</a><a href="http://apicloudspace.b0.upaiyun.com/video-seven1/2.2%20%E9%80%89%E6%8B%A9%E4%B8%80%E6%AC%BE%E7%BC%96%E7%A0%81%E5%B7%A5%E5%85%B7.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><p>APICloud应用编码调试原理：</p>
<p><img src="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/5d080161882e765944c7756405d43eca.png" srcset="/img/loading.gif" alt="编码调试原理"></p>
<p>APPLoader加载Widget的路径：</p>
<ul>
<li>android: <strong>sdcard/UZMap/wgt/</strong></li>
<li>ios: <strong>Document/uzfs/wgt/</strong></li>
</ul>
<p>目前APICloud开发工具插件支持：Sublime Text、WebStorm、Atom、Eclipse.</p>
<p><strong><em>推荐使用：Sublime Text + APICloud Plugin</em></strong></p>
<p><strong><em>推荐使用：Atom + APICloud Plugin</em></strong></p>
<p>插件功能包括：</p>
<ul>
<li>新建应用</li>
<li>新建文件</li>
<li>自定义代码提示</li>
<li>USB真机同步</li>
<li>WiFi真机同步</li>
<li>USB日志输出</li>
<li>WiFi日志输出</li>
<li>官方Loader</li>
<li>自定义Loader</li>
<li>开启Debug模式</li>
<li>查看错误提示</li>
</ul>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_list" target="_blank" rel="noopener">Sublime使用教程Window&amp;Mac</a></em></p>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Tools/sublime-apicloud-plugin" target="_blank" rel="noopener">Sublime插件使用说明</a></em></p>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Tools/Atom-apicloud-plugin" target="_blank" rel="noopener">Atom插件使用说明</a></em></p>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_play?list=2&amp;index=1" target="_blank" rel="noopener">APICloud视频之初级代码篇第9-11讲自定义loader使用</a></em></p>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/Custom_Loader" target="_blank" rel="noopener">自定义loader说明</a></em></p>
<p>APICloud CLI工具</p>
<p>一套基于Nodejs的命令行，包括APICloud工具插件全部核心功能，基于GPL3.0开源。开发者可以通过调用命令行的方式将APICloud工具轻松集成到任何前端开发工具中。</p>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Tools/apicloud-cli" target="_blank" rel="noopener">apicloud-cli 工具使用说明</a></em></p>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Tools/apicloud-tools-core" target="_blank" rel="noopener">APICloud 开发工具核心库</a></em></p>
<h3 id="2-3-APICloud应用开发的基础操作流程-gt-gt-查看配套的视频讲解"><a href="#2-3-APICloud应用开发的基础操作流程-gt-gt-查看配套的视频讲解" class="headerlink" title="2.3 APICloud应用开发的基础操作流程&gt;&gt;查看配套的视频讲解"></a>2.3 APICloud应用开发的基础操作流程<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/2.3%20%E5%BA%94%E7%94%A8%E5%BC%80%E5%8F%91%E5%9F%BA%E6%9C%AC%E6%B5%81%E7%A8%8B.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><p><img src="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/63253d6d0006c251ebb45ac9849b2888.png" srcset="/img/loading.gif" alt="基础开发流程"></p>
<p>在APICloud平台上有4种查看APP运行效果的手段：</p>
<ul>
<li>官方AppLoader</li>
<li>自定义AppLoader</li>
<li>云编译测试包</li>
<li>云编译正式包</li>
</ul>
<div id="P3"></div>

<h1 id="3-应用需求分析-gt-gt-查看配套的视频讲解"><a href="#3-应用需求分析-gt-gt-查看配套的视频讲解" class="headerlink" title="3. 应用需求分析&gt;&gt;查看配套的视频讲解"></a>3. 应用需求分析<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/3.%20%E9%9C%80%E6%B1%82%E6%A2%B3%E7%90%86.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><h3 id="3-1-梳理需求"><a href="#3-1-梳理需求" class="headerlink" title="3.1 梳理需求"></a>3.1 梳理需求</h3><p><em>输出需求说明文档： <a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/3df056696e3156d08cbaeed4aed1c42c.xlsx" target="_blank" rel="noopener">requirement-spec.xml</a></em></p>
<h3 id="3-2-进行UE-UI设计"><a href="#3-2-进行UE-UI设计" class="headerlink" title="3.2 进行UE/UI设计"></a>3.2 进行UE/UI设计</h3><p><em>输出UE/UI设计： 产品原型文件、原始UI设计图、UI切图</em></p>
<div id="P4"></div>

<h1 id="4-整体架构设计"><a href="#4-整体架构设计" class="headerlink" title="4. 整体架构设计"></a>4. 整体架构设计</h1><h3 id="4-1-理解APICloud应用设计思想-gt-gt-查看配套的视频讲解"><a href="#4-1-理解APICloud应用设计思想-gt-gt-查看配套的视频讲解" class="headerlink" title="4.1 理解APICloud应用设计思想&gt;&gt;查看配套的视频讲解"></a>4.1 理解APICloud应用设计思想<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/4.%20%E7%90%86%E8%A7%A3%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E7%9A%84APP%E6%9E%B6%E6%9E%84.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><p>Client/Cloud架构设计，完整的前后端分离，在移动端实现界面和功能，在服务端提供数据和服务。</p>
<p><img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.6.png" srcset="/img/loading.gif" alt="APICloud应用架构设计"></p>
<div id="P5"></div>

<h1 id="5-UI架构设计-gt-gt-查看配套的视频讲解"><a href="#5-UI架构设计-gt-gt-查看配套的视频讲解" class="headerlink" title="5. UI架构设计&gt;&gt;查看配套的视频讲解"></a>5. UI架构设计<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/5.1%265.2%20APICloud%E7%95%8C%E9%9D%A2%E5%B8%83%E5%B1%80%E4%BA%94%E5%A4%A7%E7%BB%84%E4%BB%B6.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><p><em>使用APICloud界面布局5大组件进行UI架构设计</em></p>
<h3 id="5-1-APICloud应用的UI组成结构"><a href="#5-1-APICloud应用的UI组成结构" class="headerlink" title="5.1 APICloud应用的UI组成结构"></a>5.1 APICloud应用的UI组成结构</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.7.png" srcset="/img/loading.gif" alt="图片说明"></p>
<h3 id="5-2-APICloud界面布局5大组件"><a href="#5-2-APICloud界面布局5大组件" class="headerlink" title="5.2 APICloud界面布局5大组件"></a>5.2 APICloud界面布局5大组件</h3><ul>
<li><p>Widget: Widget是APICloud应用运行管理的最小单位，每一个APICloud应用至少包含一个Widget，每一个Widget都具有独立的代码、资源和窗口系统，Widget之间可以相互调用。Widget在UI上表现为一个独立的窗口容器，内部可以包含Layout、Window或UIModule，并且同一时刻，应用中只能有一个Widget在界面上显示。</p>
<ul>
<li>打开Widget:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#32" target="_blank" rel="noopener">api.openWidget()</a></li>
<li>关闭Widget:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#14" target="_blank" rel="noopener">api.closeWidget()</a></li>
</ul>
</li>
<li><p>Layout: Layout实现了某一种特定的布局效果，通过定义好的布局来组织一组Window或Frame来完成整体的界面布局效果。每一个Layout内部可以包含Window和Frame。<br>(<a href="http://docs.apicloud.com/Client-API/api#12" target="_blank" rel="noopener">http://docs.apicloud.com/Client-API/api#12</a>)</p>
<ul>
<li>打开FrameGroup:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#28" target="_blank" rel="noopener">api.openFrameGroup()</a></li>
<li>关闭FrameGroup:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#11" target="_blank" rel="noopener">api.closeFrameGroup()</a></li>
</ul>
</li>
<li>Window: Window是一个独立的Naive窗口（Android或iOS），是APICloud应用界面布局的基本组件，每一个APP都是由多个Window组成。Window所承载的内容其所加载的HTML页面决定。每一个Window都是独立的Web容器，有自己独立的Dom树结构，并且独立进行渲染。Window的起点位于屏幕左上角，宽高占满屏幕，不可修改。Window内部可以包含Layout、Frame和UIModule。<ul>
<li>打开Window:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#33" target="_blank" rel="noopener">api.openWin()</a></li>
<li>关闭Window:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#15" target="_blank" rel="noopener">api.closeWin()</a></li>
</ul>
</li>
<li>Frame: Frame是一个独立的Native视图（Android或iOS），视图所承载的内容其所加载的HTML页面决定。每一个Frame都是独立的Web容器，有自己独立的Dom树结构，并且独立进行渲染。Frame的位置和宽高可通过参数配置。Frame通常作为一个子视图，嵌入到Window或Layout中，Frame内部可以包含UIModule。<ul>
<li>打开Frame:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#27" target="_blank" rel="noopener">api.openFrame()</a></li>
<li>关闭Frame:&nbsp;<a href="http://docs.apicloud.com/Client-API/api#10" target="_blank" rel="noopener">api.closeFrame()</a></li>
</ul>
</li>
<li>UIModule: UI模块是由一组Native的视图组成，来实现某种特定的UI界面效果，可以是全屏展示也可以只填充指定的区域。每一个UI模块都具有自己独立的生命周期、界面布局、事件管理和数据交换。UI模块通常需要嵌入到Window或Frame中使用。<ul>
<li>加载UIModule:&nbsp;<a href="">api.require()</a></li>
<li>打开UIModule(以UIScrollPicture为例)(:&nbsp;<a href="http://docs.apicloud.com/Client-API/UI-Layout/UIScrollPicture#m1" target="_blank" rel="noopener">UIScrollPicture.open()</a></li>
<li>关闭UIModule(以UIScrollPicture为例)(:&nbsp;<a href="http://docs.apicloud.com/Client-API/UI-Layout/UIScrollPicture#m2" target="_blank" rel="noopener">UIScrollPicture.close()</a></li>
</ul>
</li>
</ul>
<h3 id="5-3-理解APICloud混合渲染技术原理-gt-gt-查看配套的视频讲解"><a href="#5-3-理解APICloud混合渲染技术原理-gt-gt-查看配套的视频讲解" class="headerlink" title="5.3 理解APICloud混合渲染技术原理&gt;&gt;查看配套的视频讲解"></a>5.3 理解APICloud混合渲染技术原理<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/5.3%20APICloud%E6%B7%B7%E5%90%88%E6%B8%B2%E6%9F%93%E6%A8%A1%E5%BC%8F.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><p>浏览器的页面渲染机制：</p>
<p><img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.8.png" srcset="/img/loading.gif" alt="图片说明"></p>
<p>APICloud混合渲染机制：</p>
<p><img src="http://docs.apicloud.com/img/docImage/seven-course/day1/1.9.png" srcset="/img/loading.gif" alt="图片说明"></p>
<h3 id="5-4-使用APICloud5大UI组件完成应用UI架构设计-gt-gt-查看配套的视频讲解"><a href="#5-4-使用APICloud5大UI组件完成应用UI架构设计-gt-gt-查看配套的视频讲解" class="headerlink" title="5.4 使用APICloud5大UI组件完成应用UI架构设计&gt;&gt;查看配套的视频讲解"></a>5.4 使用APICloud5大UI组件完成应用UI架构设计<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/5.4%265.5%20%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8CUI%E7%95%8C%E9%9D%A2%E7%9A%84%E7%BB%93%E6%9E%84%E5%88%86%E8%A7%A3.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h3><p>根据产品原型和UI设计图，按界面逐个分析。</p>
<blockquote>
<p><em>编写一个小的界面布局的测试<a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/14839882e62a7c7c200eabdfe4729ff0.zip" target="_blank" rel="noopener">Demo</a>。。。</em></p>
</blockquote>
<h3 id="5-5-输出APP的UI架构设计文档"><a href="#5-5-输出APP的UI架构设计文档" class="headerlink" title="5.5 输出APP的UI架构设计文档"></a>5.5 输出APP的UI架构设计文档</h3><p>UI架构设计文档：<a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/5314e37fd76105e2bf70d0bf964db340.xmind" target="_blank" rel="noopener">ui-architecture.xmind</a></p>
<div id="P6"></div>

<h1 id="6-功能点分解-gt-gt-查看配套的视频讲解"><a href="#6-功能点分解-gt-gt-查看配套的视频讲解" class="headerlink" title="6. 功能点分解&gt;&gt;查看配套的视频讲解"></a>6. 功能点分解<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/6.%20%E5%8A%9F%E8%83%BD%E5%88%86%E8%A7%A3.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><h3 id="6-1-基于需求说明，梳理出主要功能点"><a href="#6-1-基于需求说明，梳理出主要功能点" class="headerlink" title="6.1 基于需求说明，梳理出主要功能点"></a>6.1 基于需求说明，梳理出主要功能点</h3><h3 id="6-2-为每个功能点，给出合适的技术实现方案"><a href="#6-2-为每个功能点，给出合适的技术实现方案" class="headerlink" title="6.2 为每个功能点，给出合适的技术实现方案"></a>6.2 为每个功能点，给出合适的技术实现方案</h3><h3 id="6-3-在APICloud聚合API找到功能点对应的模块"><a href="#6-3-在APICloud聚合API找到功能点对应的模块" class="headerlink" title="6.3 在APICloud聚合API找到功能点对应的模块"></a>6.3 在APICloud聚合API找到功能点对应的模块</h3><h3 id="6-4-输出APP的功能模块分解文档：function-modules-xmind"><a href="#6-4-输出APP的功能模块分解文档：function-modules-xmind" class="headerlink" title="6.4 输出APP的功能模块分解文档：function-modules.xmind"></a>6.4 输出APP的功能模块分解文档：<a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/2966eb9edaa13ccd7b37fe4e57512be9.xmind" target="_blank" rel="noopener">function-modules.xmind</a></h3><div id="P7"></div>

<h1 id="7-开放服务选择-gt-gt-查看配套的视频讲解"><a href="#7-开放服务选择-gt-gt-查看配套的视频讲解" class="headerlink" title="7. 开放服务选择&gt;&gt;查看配套的视频讲解"></a>7. 开放服务选择<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/7.%20%E9%80%89%E6%8B%A9%E5%BC%80%E6%94%BE%E6%9C%8D%E5%8A%A1.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><h3 id="7-1-基于需求说明，梳理出需要使用的开放服务"><a href="#7-1-基于需求说明，梳理出需要使用的开放服务" class="headerlink" title="7.1 基于需求说明，梳理出需要使用的开放服务"></a>7.1 基于需求说明，梳理出需要使用的开放服务</h3><h3 id="7-2-调研不同的开放服务商所提供的服务是否能满足自己应用的需求"><a href="#7-2-调研不同的开放服务商所提供的服务是否能满足自己应用的需求" class="headerlink" title="7.2 调研不同的开放服务商所提供的服务是否能满足自己应用的需求"></a>7.2 调研不同的开放服务商所提供的服务是否能满足自己应用的需求</h3><h3 id="7-3-在APICloud聚会API找到对应的开放服务模块"><a href="#7-3-在APICloud聚会API找到对应的开放服务模块" class="headerlink" title="7.3 在APICloud聚会API找到对应的开放服务模块"></a>7.3 在APICloud聚会API找到对应的开放服务模块</h3><h3 id="7-4-输出APP的开放服务分解文档：service-modules-xmind"><a href="#7-4-输出APP的开放服务分解文档：service-modules-xmind" class="headerlink" title="7.4 输出APP的开放服务分解文档：service-modules.xmind"></a>7.4 输出APP的开放服务分解文档：<a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/e7db23fc8e152992c65c8cee53b2dc94.xmind" target="_blank" rel="noopener">service-modules.xmind</a></h3><div id="P8"></div>

<h1 id="8-数据接口定义-gt-gt-查看配套的视频讲解"><a href="#8-数据接口定义-gt-gt-查看配套的视频讲解" class="headerlink" title="8. 数据接口定义&gt;&gt;查看配套的视频讲解"></a>8. 数据接口定义<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/8.%20%E6%95%B0%E6%8D%AE%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><p>APICloud应用架构是Client＋Cloud架构，终端实现UI布局和功能，云端提供数据和服务。开发APICloud应用，与服务器端程序的实现方式和开发语言没有任何关系。</p>
<p><strong>可以选择使用APICloud数据云，也可以自己来开发服务端接口</strong></p>
<h3 id="8-1-定义输出服务端接口文档：server-api-pdf"><a href="#8-1-定义输出服务端接口文档：server-api-pdf" class="headerlink" title="8.1 定义输出服务端接口文档：server-api.pdf"></a>8.1 定义输出服务端接口文档：<a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/7cb2dd66607d91cd7957d548b4e7c1e6.pdf" target="_blank" rel="noopener">server-api.pdf</a></h3><h3 id="8-2-输出服务端接口调试文件：server-api-postman-collection"><a href="#8-2-输出服务端接口调试文件：server-api-postman-collection" class="headerlink" title="8.2 输出服务端接口调试文件：server-api.postman_collection"></a>8.2 输出服务端接口调试文件：<a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/99d3e5fb1adff0f0cca6908db45a7969.postman_collection" target="_blank" rel="noopener">server-api.postman_collection</a></h3><div id="P9"></div>

<h1 id="9-应用证书和第三方Key申请-gt-gt-查看配套的视频讲解"><a href="#9-应用证书和第三方Key申请-gt-gt-查看配套的视频讲解" class="headerlink" title="9. 应用证书和第三方Key申请&gt;&gt;查看配套的视频讲解"></a>9. 应用证书和第三方Key申请<a href="http://apicloudspace.b0.upaiyun.com/video-seven1/9.%20%E5%BA%94%E7%94%A8%E8%AF%81%E4%B9%A6%26%E7%AC%AC%E4%B8%89%E6%96%B9Key%E7%94%B3%E8%AF%B7.mp4" target="_blank" rel="noopener">&gt;&gt;查看配套的视频讲解</a></h1><h3 id="9-1-申请应用证书"><a href="#9-1-申请应用证书" class="headerlink" title="9.1 申请应用证书"></a>9.1 申请应用证书</h3><ul>
<li>Android：xxx.keystore文件（例如：sxo2o.keystore）</li>
<li>iOS：xxx.p12文件、xxx.mobileprovision文件（例如：sxo2o.p12、sxo2o.mobileprovision）</li>
</ul>
<p><em>推荐文档：</em></p>
<p><a href="http://docs.apicloud.com/Dev-Guide/Android-License-Application-Guidance" target="_blank" rel="noopener">安卓证书帮助文档</a></p>
<p><a href="http://docs.apicloud.com/Dev-Guide/iOS-License-Application-Guidance" target="_blank" rel="noopener">苹果证书帮助文档</a></p>
<h3 id="9-2-确定应用包名"><a href="#9-2-确定应用包名" class="headerlink" title="9.2 确定应用包名"></a>9.2 确定应用包名</h3><ul>
<li><p>Android：com.company.app（例如：com.apicloud.sxo2o）</p>
</li>
<li><p>iOS：com.company.app（例如：com.apicloud.sxo2o）</p>
</li>
</ul>
<h3 id="9-3-申请开放平台相关Key"><a href="#9-3-申请开放平台相关Key" class="headerlink" title="9.3 申请开放平台相关Key"></a>9.3 申请开放平台相关Key</h3><ul>
<li>百度地图<pre><code class="hljs pgsql">&lt;feature <span class="hljs-type">name</span>="bMap"&gt;

        &lt;param <span class="hljs-type">name</span>="android_api_key" <span class="hljs-keyword">value</span>="0nKBc8SkhvOGxGOLZ96Q6iWXcSU0iOhe" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="ios_api_key" <span class="hljs-keyword">value</span>="iObZMn4A1N6pxQBhgG4ElbHmaDNshPZR" /&gt;
        
  &lt;/feature&gt;</code></pre>
</li>
</ul>
<p><em>推荐文档</em></p>
<p><a href="http://docs.apicloud.com/Client-API/Open-SDK/bMap" target="_blank" rel="noopener">百度地图模块文档</a></p>
<p><a href="http://docs.apicloud.com/Others/Open-SDK-Integration-Guide/baidu" target="_blank" rel="noopener">百度开放平台接入指南</a></p>
<ul>
<li>微信登录<pre><code class="hljs pgsql">&lt;feature <span class="hljs-type">name</span>="wx"&gt;

       &lt;param <span class="hljs-type">name</span>="urlScheme" <span class="hljs-keyword">value</span>="wxd0d84bbf23b4a0e4"/&gt;
       
       &lt;param <span class="hljs-type">name</span>="apiKey" <span class="hljs-keyword">value</span>="wxd0d84bbf23b4a0e4"/&gt;
       
       &lt;param <span class="hljs-type">name</span>="apiSecret" <span class="hljs-keyword">value</span>="a354f72aa1b4c2b8eaad137ac81434cd"/&gt;
       
 &lt;/feature&gt;</code></pre>
</li>
</ul>
<p><em>推荐文档</em></p>
<p><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx" target="_blank" rel="noopener">微信模块文档</a></p>
<p><a href="http://docs.apicloud.com/Others/Open-SDK-Integration-Guide/weChat" target="_blank" rel="noopener">微信开放平台接入指南</a></p>
<ul>
<li>个推推送<pre><code class="hljs pgsql">&lt;feature <span class="hljs-type">name</span>="pushGeTui"&gt;

        &lt;param <span class="hljs-type">name</span>="ios_appkey" <span class="hljs-keyword">value</span>="xCGkZR1bCp6gscLUB20Dl4" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="ios_appid" <span class="hljs-keyword">value</span>="G5lfFkQZ008VoZUXydA2r2" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="ios_appsecret" <span class="hljs-keyword">value</span>="RuxlC8ExWA7T4NFoJhQFd6" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="android_appkey" <span class="hljs-keyword">value</span>="SsYLDV34ik5CBgtdzCQ608" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="android_appid" <span class="hljs-keyword">value</span>="dASHvkJSLc9Q5vvSEALdI4" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="android_appsecret" <span class="hljs-keyword">value</span>="BmjqFXsFDS6SVMyV2JXglA" /&gt;
        
    &lt;/feature&gt;</code></pre>
</li>
</ul>
<p><em>推荐文档</em></p>
<p><a href="http://docs.apicloud.com/Client-API/Open-SDK/pushGeTui" target="_blank" rel="noopener">个推模块文档</a></p>
<p><a href="http://docs.apicloud.com/Others/Open-SDK-Integration-Guide/pushGeTui_manual" target="_blank" rel="noopener">个推开放平台接入指南</a></p>
<p><strong><em>第二天：理解APICloud应用执行流程，掌握界面布局相关API使用，了解屏幕适配原理，从0开始搭建整体APP框架，完成所有界面跳转，输出完整的APP静态数据版本。</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/e50c068b5af5499d5a4e3b21d311a0c8.zip" target="_blank" rel="noopener">第二天课程源码下载</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day2.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="学习目标"><a href="#学习目标" class="headerlink" title="学习目标"></a>学习目标</h1><p>—</p>
<ul>
<li>APICloud应用的执行流程，Main Widget和Root Window的创建时机</li>
<li>为什么启动会加载index.html和执行apiready函数</li>
<li>APICloud屏幕适配的原理，弹性响应式和流式结合的布局方式</li>
<li>如何搭建APP的UI结构</li>
</ul>
<h1 id="主要内容-1"><a href="#主要内容-1" class="headerlink" title="主要内容"></a>主要内容</h1><p>—</p>
<ol>
<li><p><strong><a href="#P1">APICloud应用执行流程</a></strong></p>
<p> 1.1 APICloud应用执行流程说明</p>
</li>
<li><p><strong><a href="#P2">引擎初始化后默认创建的两个UI组件实例</a></strong></p>
<p> 2.1 主Widget容器（Main Widget）</p>
<p> 2.2 根窗口（Root Window）</p>
</li>
<li><p><strong><a href="#P3">config配置文件使用</a></strong></p>
<p> 3.1 了解config文件作用</p>
<p> 3.2 掌握config文件使用</p>
</li>
<li><p><strong><a href="#P4">引擎的两个重要事件</a></strong></p>
<p> 4.1 content事件</p>
<p> 4.2 apiready事件</p>
</li>
<li><p><strong><a href="#P5">查看api对象功能</a></strong></p>
<p> 5.1 查看api对象功能列表</p>
<p> 5.2 api对象常用方法使用</p>
</li>
<li><p><strong><a href="#P6">屏幕适配</a></strong></p>
<p> 6.1 viewport设置</p>
<p> 6.2 UI尺寸</p>
<p> 6.3 量图标准</p>
</li>
<li><p><strong><a href="#P7">前端框架</a></strong></p>
<p> 7.1 APICloud前端框架的作用和设计思想</p>
<p> 7.2 APICloud前端框架使用</p>
</li>
<li><p><strong><a href="#P8">状态栏处理</a></strong></p>
<p> 8.1 沉浸式状态栏效果说明</p>
<p> 8.2 沉浸式效果实现</p>
<p> 8.3 修改状态栏样式</p>
</li>
<li><p><strong><a href="#P9">界面布局相关API使用</a></strong></p>
<p> 9.1 Widget相关API</p>
<p> 9.2 Window相关API</p>
<p> 9.3 Layout相关API</p>
<p> 9.4 Frame相关API</p>
</li>
<li><p><strong><a href="#P10">搭建APP整体框架，完成APP静态数据版本</a></strong></p>
<p>10.1 每个页面UI结构分析</p>
<p>10.2 按照UI架构设计创建对应的UI组件及H5文件</p>
<p>10.3 编写每个Window或Frame所对应的H5页面文件</p>
<p>10.4 实现Frame之间切换</p>
<p>10.5 优化onclick交换响应</p>
<p>10.6 实现界面之间跳转</p>
<p>10.7 实现页面之间参数传递</p>
<p>10.8 监听Android返回键，实现退出APP</p>
<p>10.9 阻止iOS滑动返回</p>
</li>
</ol>
<p><div id="P1"></div></p>
<h1 id="1-理解APICloud应用执行流程"><a href="#1-理解APICloud应用执行流程" class="headerlink" title="1. 理解APICloud应用执行流程"></a>1. 理解APICloud应用执行流程</h1><p>-</p>
<h3 id="1-1-APICloud应用执行流程说明"><a href="#1-1-APICloud应用执行流程说明" class="headerlink" title="1.1 APICloud应用执行流程说明"></a>1.1 APICloud应用执行流程说明</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day2/2.1.png" srcset="/img/loading.gif" alt="图片说明"></p>
<p>推荐视频：<a href="http://www.apicloud.com/video_play?list=2&amp;index=1" target="_blank" rel="noopener">APICloud视频之初级代码篇第3讲 APICloud整体介绍</a></p>
<p><div id="P2"></div></p>
<h1 id="2-Widget中代码执行之前，由引擎默认创建的两个UI组件实例"><a href="#2-Widget中代码执行之前，由引擎默认创建的两个UI组件实例" class="headerlink" title="2. Widget中代码执行之前，由引擎默认创建的两个UI组件实例"></a>2. Widget中代码执行之前，由引擎默认创建的两个UI组件实例</h1><p>—</p>
<h3 id="2-1-主Widget容器（Main-Widget）"><a href="#2-1-主Widget容器（Main-Widget）" class="headerlink" title="2.1 主Widget容器（Main Widget）"></a>2.1 主Widget容器（Main Widget）</h3><p>  是一个APP所有的UI组件的父容器，由引擎初始化完毕后自动创建，如果关闭了主Widget，那么整个应用也就退出了。</p>
<h3 id="2-2-根窗口（Root-Window）"><a href="#2-2-根窗口（Root-Window）" class="headerlink" title="2.2 根窗口（Root Window）"></a>2.2 根窗口（Root Window）</h3><p>  是Window组件的一个实例，由引擎初始化完毕后自动创建，用于加载content事件所指定的HTML文件(通常为widget根目录下的index.html),Window的name固定为’root’。</p>
<p><div id="P3"></div></p>
<h1 id="3-config文件解析"><a href="#3-config文件解析" class="headerlink" title="3. config文件解析"></a>3. config文件解析</h1><p>—</p>
<p><em>APICloud引擎初始化完成后的第一个操作就是解析config.xml文件</em></p>
<h3 id="3-1-了解config文件作用"><a href="#3-1-了解config文件作用" class="headerlink" title="3.1 了解config文件作用"></a>3.1 了解config文件作用</h3><h3 id="3-2-掌握config文件使用"><a href="#3-2-掌握config文件使用" class="headerlink" title="3.2 掌握config文件使用"></a>3.2 掌握config文件使用</h3><p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/app-config-manual" target="_blank" rel="noopener">config.xml应用配置说明</a></em></p>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_play?list=2&amp;index=12" target="_blank" rel="noopener">APICloud视频之初级代码篇第12讲 APICloud配置文件简介</a></em></p>
<p><div id="P4"></div></p>
<h1 id="4-引擎的两个重要事件"><a href="#4-引擎的两个重要事件" class="headerlink" title="4. 引擎的两个重要事件"></a>4. 引擎的两个重要事件</h1><p>—</p>
<h3 id="4-1-content事件"><a href="#4-1-content事件" class="headerlink" title="4.1 content事件:"></a>4.1 content事件:</h3><p>此事件是在引擎解析config.xml文件中的Contont标签时产生，是事件队列中的第一个事件。引擎通过处理此事件得到应用（Main Widget）的根窗口（Root Window）需要自动加载的HTML文件。</p>
<h3 id="4-2-apiready事件"><a href="#4-2-apiready事件" class="headerlink" title="4.2 apiready事件:"></a>4.2 apiready事件:</h3><p>此事件是在api对象准备完毕后产生，在每个Window或Frame的HTML代码中都需要监听此事件，以确定APICloud扩展对象已经准备完毕，可以调用了。</p>
<p><div id="P5"></div></p>
<h1 id="5-api对象"><a href="#5-api对象" class="headerlink" title="5. api对象"></a>5. api对象</h1><p>—</p>
<p>api对象是APICloud在全局作用域内唯一的一个扩展对象，api对象下包含了一个APP最常使用的扩展方法和属性，如窗口操作、事件监听、网络请求、设备访问等等。api对象无需引入，可以直接使用。而APICloud的扩展模块，都需要通过api.require方法引入后才能使用。</p>
<h3 id="5-1-查看api对象功能"><a href="#5-1-查看api对象功能" class="headerlink" title="5.1 查看api对象功能"></a>5.1 查看api对象功能</h3><h3 id="5-2-api对象常用方法使用"><a href="#5-2-api对象常用方法使用" class="headerlink" title="5.2 api对象常用方法使用"></a>5.2 api对象常用方法使用</h3><p><div id="P6"></div></p>
<h1 id="6-屏幕适配"><a href="#6-屏幕适配" class="headerlink" title="6. 屏幕适配"></a>6. 屏幕适配</h1><p>—</p>
<p>对于Window或Frame所加载的页面，如何编写一套代码完美适配所有屏幕。</p>
<h3 id="6-1-viewport设置："><a href="#6-1-viewport设置：" class="headerlink" title="6.1 viewport设置："></a>6.1 viewport设置：</h3><pre><code class="hljs routeros">&lt;meta <span class="hljs-attribute">name</span>=<span class="hljs-string">"viewport"</span> <span class="hljs-attribute">content</span>=<span class="hljs-string">"maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"</span> /&gt;</code></pre>
<p><em>推荐视频（关于viewport配置原理）：<a href="http://www.apicloud.com/video_play?list=2&amp;index=7" target="_blank" rel="noopener">APICloud视频之初级代码篇第7讲 APICloud应用结构分析</a></em></p>
<h3 id="6-2-UI尺寸："><a href="#6-2-UI尺寸：" class="headerlink" title="6.2 UI尺寸："></a>6.2 UI尺寸：</h3><p>  一套合适尺寸的UI， <strong>推荐：720x1280</strong></p>
<h3 id="6-3-量图标准："><a href="#6-3-量图标准：" class="headerlink" title="6.3 量图标准："></a>6.3 量图标准：</h3><p>  优先考虑绝对计量类的单位 px，应先在UI效果图中（如720x1280尺寸图）量出元素的宽或高对应的 px 值，再除以屏幕倍率（如分辨率为720x1280设备的屏幕倍率通常为 2) 得到书写样式时的确切数值。</p>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/screen-adapt-guide" target="_blank" rel="noopener">屏幕适配原理及实现</a></em></p>
<p><div id="P7"></div></p>
<h1 id="7-前端框架"><a href="#7-前端框架" class="headerlink" title="7. 前端框架"></a>7. 前端框架</h1><p>—</p>
<h3 id="7-1-APICloud前端框架的作用和设计思想"><a href="#7-1-APICloud前端框架的作用和设计思想" class="headerlink" title="7.1 APICloud前端框架的作用和设计思想"></a>7.1 APICloud前端框架的作用和设计思想</h3><p>去除浏览器的默认样式和交互行为，简化dom操作，APP一切的显示和行为由自己来定义。</p>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_play?list=2&amp;index=8" target="_blank" rel="noopener">APICloud视频之初级代码篇第8讲 前端框架</a></em></p>
<h3 id="7-2-APICloud前端框架使用"><a href="#7-2-APICloud前端框架使用" class="headerlink" title="7.2 APICloud前端框架使用"></a>7.2 APICloud前端框架使用</h3><p><em>推荐文档：<a href="http://docs.apicloud.com/Front-end-Framework/framework-dev-guide" target="_blank" rel="noopener">前端框架开发指南</a></em></p>
<p><em>注意：不建议引用大的JS或CSS框架</em></p>
<p><div id="P8"></div></p>
<h1 id="8-状态栏处理"><a href="#8-状态栏处理" class="headerlink" title="8. 状态栏处理"></a>8. 状态栏处理</h1><p>—</p>
<h3 id="8-1-沉浸式状态栏效果说明"><a href="#8-1-沉浸式状态栏效果说明" class="headerlink" title="8.1 沉浸式状态栏效果说明"></a>8.1 沉浸式状态栏效果说明</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day2/2.2.png" srcset="/img/loading.gif" alt="状态栏处理"></p>
<h3 id="8-2-沉浸式效果实现"><a href="#8-2-沉浸式效果实现" class="headerlink" title="8.2 沉浸式效果实现"></a>8.2 沉浸式效果实现</h3><ul>
<li><p>在config.xml文件配置是否开启:</p>
<pre><code class="hljs pgsql">&lt;preference <span class="hljs-type">name</span>="statusBarAppearance" <span class="hljs-keyword">value</span>="true" /&gt;</code></pre>
<blockquote>
<p><a href="http://docs.apicloud.com/Dev-Guide/app-config-manual#10" target="_blank" rel="noopener">沉浸式效果配置说明</a></p>
</blockquote>
</li>
<li><p>在Window或Frame的apiready事件后，调用<a href="http://docs.apicloud.com/Front-end-Framework/framework-dev-guide#45" target="_blank" rel="noopener">$api.fixStatusBar()</a>方法;</p>
</li>
</ul>
<h3 id="8-3-修改状态栏样式"><a href="#8-3-修改状态栏样式" class="headerlink" title="8.3 修改状态栏样式"></a>8.3 修改状态栏样式</h3><p><a href="http://docs.apicloud.com/Client-API/api#47" target="_blank" rel="noopener">api.setStatusBarStyle</a></p>
<p><em>推荐视频： <a href="http://www.apicloud.com/video_play?list=2&amp;index=7" target="_blank" rel="noopener">APICloud视频之初级代码篇第7讲 APICloud应用结构分析</a></em></p>
<p><div id="P9"></div></p>
<h1 id="9-界面布局相关API"><a href="#9-界面布局相关API" class="headerlink" title="9. 界面布局相关API"></a>9. 界面布局相关API</h1><p>—</p>
<h3 id="9-1-Widget相关API"><a href="#9-1-Widget相关API" class="headerlink" title="9.1 Widget相关API"></a>9.1 Widget相关API</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#32" target="_blank" rel="noopener">api.openWidget()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#14" target="_blank" rel="noopener">api.closeWidget()</a></li>
</ul>
<h3 id="9-2-Window相关API"><a href="#9-2-Window相关API" class="headerlink" title="9.2 Window相关API"></a>9.2 Window相关API</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#33" target="_blank" rel="noopener">api.openWin</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#15" target="_blank" rel="noopener">api.closeWin</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#13" target="_blank" rel="noopener">api.closeToWin()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#48" target="_blank" rel="noopener">api.setWinAttr()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#a19" target="_blank" rel="noopener">api.winName</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#a20" target="_blank" rel="noopener">api.winWidth</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#a18" target="_blank" rel="noopener">api.winHeight</a></li>
</ul>
<h3 id="9-3-Layout相关API"><a href="#9-3-Layout相关API" class="headerlink" title="9.3 Layout相关API"></a>9.3 Layout相关API</h3><p>FrameGroup</p>
<ul>
<li><a href="http://docs.apicloud.com/Client-API/api#28" target="_blank" rel="noopener">api.openFrameGroup()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#11" target="_blank" rel="noopener">api.closeFrameGroup()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#43" target="_blank" rel="noopener">api.setFrameGroupIndex()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#42" target="_blank" rel="noopener">api.setFrameGroupAttr()</a></li>
</ul>
<p>SlidLayout</p>
<ul>
<li><a href="http://docs.apicloud.com/Client-API/api#30" target="_blank" rel="noopener">api.openSlidLayout()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#31" target="_blank" rel="noopener">api.openSlidPane()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#12" target="_blank" rel="noopener">api.closeSlidPane()</a></li>
</ul>
<p>DrawerLayout</p>
<ul>
<li><a href="http://docs.apicloud.com/Client-API/api#89" target="_blank" rel="noopener">api.openDrawerLayout()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#90" target="_blank" rel="noopener">api.openDrawerPane()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#91" target="_blank" rel="noopener">api.closeDrawerPane()</a></li>
</ul>
<h3 id="9-4-Frame相关API"><a href="#9-4-Frame相关API" class="headerlink" title="9.4 Frame相关API"></a>9.4 Frame相关API</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#27" target="_blank" rel="noopener">api.openFrame()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#10" target="_blank" rel="noopener">api.closeFrame()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#41" target="_blank" rel="noopener">api.setFrameAttr()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#6" target="_blank" rel="noopener">api.bringFrameToFront()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#40" target="_blank" rel="noopener">api.sendFrameToBack()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#a9" target="_blank" rel="noopener">api.frameName</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#a10" target="_blank" rel="noopener">api.frameWidth</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#a8" target="_blank" rel="noopener">api.frameHeight</a></li>
</ul>
<p><div id="P10"></div></p>
<h1 id="10-搭建APP整体框架，完成APP静态数据版本"><a href="#10-搭建APP整体框架，完成APP静态数据版本" class="headerlink" title="10. 搭建APP整体框架，完成APP静态数据版本"></a>10. 搭建APP整体框架，完成APP静态数据版本</h1><p>—</p>
<h3 id="10-1-页面UI结构分析"><a href="#10-1-页面UI结构分析" class="headerlink" title="10.1 页面UI结构分析"></a>10.1 页面UI结构分析</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day2/2.3.png" srcset="/img/loading.gif" alt="首页UI结构"></p>
<h3 id="10-2-按照UI架构设计创建对应UI组件及H5文件"><a href="#10-2-按照UI架构设计创建对应UI组件及H5文件" class="headerlink" title="10.2 按照UI架构设计创建对应UI组件及H5文件"></a>10.2 按照UI架构设计创建对应UI组件及H5文件</h3><blockquote>
<p>根据UI架构设计文档(ui-architecture.xmind)，创建需要的Window或Frame，以及Window或Frame所需加载的H5页面文件</p>
</blockquote>
<h3 id="10-3-编写Window或Frame所对应的H5页面"><a href="#10-3-编写Window或Frame所对应的H5页面" class="headerlink" title="10.3 编写Window或Frame所对应的H5页面"></a>10.3 编写Window或Frame所对应的H5页面</h3><ul>
<li><p>使用HTML标签构建页面元素: <strong>注意要使用语义化标签</strong></p>
<ul>
<li>header</li>
<li>nav</li>
<li>section</li>
<li>footer</li>
</ul>
</li>
<li><p>使用CSS为页面元素添加样式: <strong>常用元素样式定义常用规范</strong></p>
<ul>
<li>display</li>
<li>position</li>
<li>width</li>
<li>height</li>
<li>box-sizing</li>
</ul>
</li>
<li><p>使用弹性盒子布局(flexbox): <strong>注意考虑浏览器兼容性</strong></p>
<ul>
<li>display: -webkit-box</li>
<li>display: -webkit-flex</li>
<li><p>display: flex</p>
<p>—</p>
</li>
<li><p>-webkit-box-orient: vertical</p>
</li>
<li>-webkit-flex-flow: column</li>
<li><p>flex-flow: column</p>
<p>—</p>
</li>
<li><p>-webkit-blox-orient: horizontal</p>
</li>
<li>-webkit-flex-flow: row</li>
<li><p>flex-flow: row</p>
<p>—</p>
</li>
<li><p>-webkit-box-flex: 1</p>
</li>
<li>-webkit-flex: 1</li>
<li>flex: 1</li>
</ul>
</li>
</ul>
<h3 id="10-4-实现Frame之间切换"><a href="#10-4-实现Frame之间切换" class="headerlink" title="10.4 实现Frame之间切换"></a>10.4 实现Frame之间切换</h3><ul>
<li>手势滑动切换</li>
<li>点击菜单切换</li>
</ul>
<h3 id="10-5-优化点击交互响应"><a href="#10-5-优化点击交互响应" class="headerlink" title="10.5 优化点击交互响应"></a>10.5 优化点击交互响应</h3><blockquote>
<p>消除webkit内核默认的onclick事件的300ms响应延迟</p>
</blockquote>
<ul>
<li>tapmode属性</li>
<li><a href="http://docs.apicloud.com/Client-API/api#34" target="_blank" rel="noopener">api.parseTapmode方法</a></li>
</ul>
<h3 id="10-6-实现界面之间跳转"><a href="#10-6-实现界面之间跳转" class="headerlink" title="10.6 实现界面之间跳转"></a>10.6 实现界面之间跳转</h3><blockquote>
<p>按照产品原型实现各UI界面之前的切换</p>
</blockquote>
<h3 id="10-7-实现页面之间的参数传递"><a href="#10-7-实现页面之间的参数传递" class="headerlink" title="10.7 实现页面之间的参数传递"></a>10.7 实现页面之间的参数传递</h3><ul>
<li>参数pageParam</li>
<li><a href="http://docs.apicloud.com/Client-API/api#a12" target="_blank" rel="noopener">api.pageParam</a></li>
</ul>
<h3 id="10-8-监听Android返回键，实现退出APP"><a href="#10-8-监听Android返回键，实现退出APP" class="headerlink" title="10.8 监听Android返回键，实现退出APP"></a>10.8 监听Android返回键，实现退出APP</h3><ul>
<li>监听keyback事件</li>
</ul>
<h3 id="10-9-阻止iOS滑动返回"><a href="#10-9-阻止iOS滑动返回" class="headerlink" title="10.9 阻止iOS滑动返回"></a>10.9 阻止iOS滑动返回</h3><ul>
<li>设置slidBackEnabled参数</li>
</ul>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/e50c068b5af5499d5a4e3b21d311a0c8.zip" target="_blank" rel="noopener">第二天课程源码下载</a></p>
<p><strong><em>第三天：了解APICloud平台提供的数据通信能力，掌握APICloud数据通信相关API使用，按照服务端接口文档进行APP前后端接口联调，将APP页面中的静态数据改为从服务端动态获取，并完成相关的业务逻辑。掌握APICloud平台的事件管理机制，了解APICloud数据云功能和使用。</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/c8078f42d6c7d315f32c67e0c88b53e6.zip" target="_blank" rel="noopener">第三天课程源码</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day3.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="学习目标-1"><a href="#学习目标-1" class="headerlink" title="学习目标"></a>学习目标</h1><p>—</p>
<ul>
<li>如何实现前后端的数据通信，如何进行接口联调</li>
<li>api.ajax的使用和注意事项</li>
<li>两种窗口间的通信机制</li>
<li>如果使用APICloud数据云，推荐的调用方式</li>
</ul>
<h1 id="主要内容-2"><a href="#主要内容-2" class="headerlink" title="主要内容"></a>主要内容</h1><p>—</p>
<ol>
<li><p><strong><a href="#P1">APICloud平台提供的数据通信能力</a></strong></p>
<p> 1.1 HTTP</p>
<p> 1.2 HTTPS</p>
<p> 1.3 TCP／UDP</p>
</li>
<li><p><strong><a href="#P2">APICloud数据通信常用API使用</a></strong></p>
<p> 2.1 HTTP请求相关API</p>
<p> 2.2 文件下载相关API</p>
</li>
<li><p><strong><a href="#P3">使用api.ajax与服务端进行数据通信</a></strong></p>
</li>
<li><strong><a href="#P4">按照服务端接口文档，进行APP与服务端的接口联调</a></strong></li>
<li><p><strong><a href="#P5">窗口间通信机制</a></strong></p>
<p> 5.1 跨窗口调用函数</p>
<p> 5.2 自定义事件</p>
</li>
<li><p><strong><a href="#P6">常用对话框窗口使用</a></strong></p>
<p> 6.1 提示对话框</p>
<p> 6.2 状态对话框</p>
<p> 6.3 选择对话框</p>
</li>
<li><p><strong><a href="#P7">APICloud平台事件机制</a></strong></p>
<p> 7.1 全局事件管理</p>
<p> 7.2 平台事件类型</p>
<p> 7.3 事件监听机制</p>
</li>
<li><p><strong><a href="#P8">APICloud数据云</a></strong></p>
<p> 8.1 数据云功能特点</p>
<p> 8.2 数据云操作使用</p>
<p> 8.3 APP中3种与数据云的通信方式</p>
</li>
</ol>
<p><div id="P1"></div></p>
<h1 id="1-APICloud平台提供的数据通信能力"><a href="#1-APICloud平台提供的数据通信能力" class="headerlink" title="1. APICloud平台提供的数据通信能力"></a>1. APICloud平台提供的数据通信能力</h1><p>—</p>
<h3 id="1-1-HTTP"><a href="#1-1-HTTP" class="headerlink" title="1.1 HTTP"></a>1.1 HTTP</h3><ul>
<li>支持标准的HTTP协议</li>
<li>在引擎级别通过Native方式实现</li>
<li>支持跨域异步请求，无浏览器中同源请求的数量限制</li>
</ul>
<h3 id="1-2-HTTPS"><a href="#1-2-HTTPS" class="headerlink" title="1.2 HTTPS"></a>1.2 HTTPS</h3><ul>
<li>支持标准的HTTPS协议</li>
<li>支持双向的HTTPS证书</li>
<li>支持本地HTTPS证书加密</li>
</ul>
<h3 id="1-3-TCP／UDP"><a href="#1-3-TCP／UDP" class="headerlink" title="1.3 TCP／UDP"></a>1.3 TCP／UDP</h3><ul>
<li>支持标准的TCP／UDP协议</li>
<li>封装了标准的Socket接口</li>
</ul>
<p><div id="P2"></div></p>
<h1 id="2-APICloud数据通信相关API"><a href="#2-APICloud数据通信相关API" class="headerlink" title="2. APICloud数据通信相关API"></a>2. APICloud数据通信相关API</h1><p>—</p>
<h3 id="2-1-HTTP请求"><a href="#2-1-HTTP请求" class="headerlink" title="2.1 HTTP请求"></a>2.1 HTTP请求</h3><ul>
<li>发送请求：<a href="http://docs.apicloud.com/Client-API/api#3" target="_blank" rel="noopener">api.ajax()</a></li>
<li>取消请求：<a href="http://docs.apicloud.com/Client-API/api#86" target="_blank" rel="noopener">api.cancelAjax()</a></li>
</ul>
<h3 id="2-2-文件下载"><a href="#2-2-文件下载" class="headerlink" title="2.2 文件下载"></a>2.2 文件下载</h3><ul>
<li>开始下载：<a href="http://docs.apicloud.com/Client-API/api#17" target="_blank" rel="noopener">api.download()</a></li>
<li>取消下载：<a href="http://docs.apicloud.com/Client-API/api#8" target="_blank" rel="noopener">api.cancelDownload()</a></li>
</ul>
<p><div id="P3"></div></p>
<h1 id="3-api-ajax的使用"><a href="#3-api-ajax的使用" class="headerlink" title="3. api.ajax的使用"></a>3. api.ajax的使用</h1><p>—</p>
<ul>
<li>超时：timeout</li>
<li>方法：method（get、post、put、delete、head）</li>
<li>提交数据：data(stream、body、values files)</li>
<li>返回数据类型：dataType（json、text）</li>
<li>缓存设置：cache（支持get请求）</li>
<li>请求头：headers</li>
<li>进度上报：report</li>
<li>返回完整response信息：returnAll（ret.headers、ret.body，ret.statusCode）</li>
<li>客户端证书设置：certificate</li>
</ul>
<p><div id="P4"></div></p>
<h1 id="4-接口联调"><a href="#4-接口联调" class="headerlink" title="4. 接口联调"></a>4. 接口联调</h1><p>—</p>
<p>HTTP + JSON是最常用的前后端数据通信方式</p>
<ul>
<li>登录／注册</li>
<li>获取地区列表</li>
<li>获取商品分类</li>
<li>获取商品列表</li>
<li>获取商品详情</li>
</ul>
<p><div id="P5"></div></p>
<h1 id="5-窗口间通信机制"><a href="#5-窗口间通信机制" class="headerlink" title="5. 窗口间通信机制"></a>5. 窗口间通信机制</h1><p>—</p>
<h3 id="5-1-跨窗口调用函数"><a href="#5-1-跨窗口调用函数" class="headerlink" title="5.1 跨窗口调用函数"></a>5.1 跨窗口调用函数</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#18" target="_blank" rel="noopener">api.execScript()</a></li>
</ul>
<h3 id="5-2-自定义事件"><a href="#5-2-自定义事件" class="headerlink" title="5.2 自定义事件"></a>5.2 自定义事件</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#72" target="_blank" rel="noopener">api.sendEvent()</a>;</li>
</ul>
<p><div id="P6"></div></p>
<h1 id="6-常用对话框窗口使用"><a href="#6-常用对话框窗口使用" class="headerlink" title="6. 常用对话框窗口使用"></a>6. 常用对话框窗口使用</h1><p>—</p>
<h3 id="6-1-提示对话框"><a href="#6-1-提示对话框" class="headerlink" title="6.1 提示对话框"></a>6.1 提示对话框</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#4" target="_blank" rel="noopener">api.alert()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#16" target="_blank" rel="noopener">api.confirm()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#35" target="_blank" rel="noopener">api.prompt()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#60" target="_blank" rel="noopener">api.toast()</a></li>
</ul>
<h3 id="6-2-状态对话框"><a href="#6-2-状态对话框" class="headerlink" title="6.2 状态对话框"></a>6.2 状态对话框</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#50" target="_blank" rel="noopener">api.showProgress()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#22" target="_blank" rel="noopener">api.hideProgress()</a></li>
</ul>
<h3 id="6-3-选择对话框"><a href="#6-3-选择对话框" class="headerlink" title="6.3 选择对话框"></a>6.3 选择对话框</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#1" target="_blank" rel="noopener">api.actionSheet()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#29" target="_blank" rel="noopener">api.datePicker()</a></li>
</ul>
<p><div id="P7"></div></p>
<h1 id="7-APICloud平台事件机制"><a href="#7-APICloud平台事件机制" class="headerlink" title="7. APICloud平台事件机制"></a>7. APICloud平台事件机制</h1><p>—</p>
<h3 id="7-1-全局事件管理"><a href="#7-1-全局事件管理" class="headerlink" title="7.1 全局事件管理"></a>7.1 全局事件管理</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day3/3.1.png" srcset="/img/loading.gif" alt="全局事件管理"></p>
<h3 id="7-2-平台事件类型"><a href="#7-2-平台事件类型" class="headerlink" title="7.2 平台事件类型"></a>7.2 平台事件类型</h3><p><em>事件名称全部小写</em></p>
<h5 id="7-2-1-设备"><a href="#7-2-1-设备" class="headerlink" title="7.2.1 设备"></a>7.2.1 设备</h5><ul>
<li>电池电量：batterylow、batterystatus</li>
<li>物理按键：keyback、keymenu</li>
<li>音量按键：volumeup、volumedown</li>
</ul>
<h5 id="7-2-2-网络"><a href="#7-2-2-网络" class="headerlink" title="7.2.2 网络"></a>7.2.2 网络</h5><ul>
<li>网络状态：online、offline</li>
<li>云服务状态：smartupdatefinish</li>
</ul>
<h5 id="7-2-3-交互"><a href="#7-2-3-交互" class="headerlink" title="7.2.3 交互"></a>7.2.3 交互</h5><ul>
<li>手势：swipeup、swipedown、swipeleft、swiperight</li>
<li>滚动：scrolltobottom</li>
<li>点击：tap</li>
<li>长按：longpress</li>
<li>状态栏：noticeclicked</li>
<li>启动页：launchviewclicked</li>
</ul>
<h5 id="7-2-4-窗口"><a href="#7-2-4-窗口" class="headerlink" title="7.2.4 窗口"></a>7.2.4 窗口</h5><ul>
<li>窗口显示：viewappear</li>
<li>窗口隐藏：viewdisappear</li>
</ul>
<h5 id="7-2-5-应用"><a href="#7-2-5-应用" class="headerlink" title="7.2.5 应用"></a>7.2.5 应用</h5><ul>
<li>回到前台：resume</li>
<li>进入后台：pause</li>
<li>被其他应用调用：appindent</li>
</ul>
<h5 id="7-2-6-自定义"><a href="#7-2-6-自定义" class="headerlink" title="7.2.6 自定义"></a>7.2.6 自定义</h5><h3 id="7-3-事件监听机制"><a href="#7-3-事件监听机制" class="headerlink" title="7.3 事件监听机制"></a>7.3 事件监听机制</h3><ul>
<li>添加监听：<a href="">api.addEventListener()</a></li>
<li>删除监听：<a href="">api.removeEventListener()</a></li>
<li>发送事件：<a href="">api.sentEvent()</a></li>
</ul>
<p><div id="P8"></div></p>
<h1 id="8-APICloud数据云"><a href="#8-APICloud数据云" class="headerlink" title="8. APICloud数据云"></a>8. APICloud数据云</h1><p>—</p>
<p>云端一体架构，简化应用开发<br><img src="http://docs.apicloud.com/img/docImage/seven-course/day3/3.2.png" srcset="/img/loading.gif" alt="云端一体架构"></p>
<h3 id="8-1-数据云功能特点"><a href="#8-1-数据云功能特点" class="headerlink" title="8.1 数据云功能特点"></a>8.1 数据云功能特点</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day3/3.3.png" srcset="/img/loading.gif" alt="数据云"></p>
<ul>
<li>无需搭建服务器、设计表结构，无需编写任何后端代码</li>
<li>默认内置user, file, role等基础数据模型，可以根据应用需求，扩展字段或自定义其他数据模型</li>
<li>在线可视化定义数据模型，根据数据模型自动生成Restful API</li>
<li>在移动端通过云API，操作云端数据模型，业务逻辑在APP端实现</li>
</ul>
<h3 id="8-2-数据云操作使用："><a href="#8-2-数据云操作使用：" class="headerlink" title="8.2 数据云操作使用："></a>8.2 数据云操作使用：</h3><ul>
<li>创建数据模型</li>
<li>添加模型管理</li>
<li>设置模型权限</li>
<li>测试模型接口</li>
</ul>
<h3 id="8-3-APP与数据云API通信："><a href="#8-3-APP与数据云API通信：" class="headerlink" title="8.3 APP与数据云API通信："></a>8.3 APP与数据云API通信：</h3><h5 id="8-3-1-接口签名验证"><a href="#8-3-1-接口签名验证" class="headerlink" title="8.3.1 接口签名验证"></a>8.3.1 接口签名验证</h5><ul>
<li>appId</li>
<li>appKey</li>
<li>算法</li>
</ul>
<h5 id="8-3-2-3种调用方式"><a href="#8-3-2-3种调用方式" class="headerlink" title="8.3.2 3种调用方式"></a>8.3.2 3种调用方式</h5><ul>
<li>标准 ajax 或 api.ajax </li>
<li>APICloud mcm 模块：user，file，model，query等</li>
<li><a href="http://docs.apicloud.com/Download/download" target="_blank" rel="noopener">APICloud mcm JS框架</a>：<ul>
<li><a href="https://github.com/apicloudcom/mcm-js-sdk" target="_blank" rel="noopener">开源分支</a></li>
<li>APICloud-rest.js</li>
<li>SHA1.js</li>
</ul>
</li>
</ul>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Cloud-API/data-cloud-api" target="_blank" rel="noopener">云API使用指南</a></em></p>
<p><strong><em>第四天：掌握使用JS模版来实现列表数据，推荐使用doT模版；了解下拉刷新和上拉加载的实现原理及相关API的使用，实现下拉刷新、上拉加载更多功能；了解APICloud图片缓存原理及相关API的使用，对APP中网络图片实现本地缓存；了解APICloud平台提供的本地数据能力，理解APICloud应用沙箱结构，了解应用资源访问协议，掌握相关API的使用</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/dcf300598ee3df5f3076faa74f384e22.zip" target="_blank" rel="noopener">第四天课程源码</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day4.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="学习目标-2"><a href="#学习目标-2" class="headerlink" title="学习目标"></a>学习目标</h1><ul>
<li>使用doT模版函数实现列表数据</li>
<li>下拉刷新，上拉加载</li>
<li>图片缓存</li>
<li>数据更新后的点击事件优化</li>
</ul>
<h1 id="主要内容-3"><a href="#主要内容-3" class="headerlink" title="主要内容"></a>主要内容</h1><ol>
<li><p><strong><a href="#P1">使用JS模版展示列表数据</a></strong></p>
<p> 1.1 JS模版原理</p>
<p> 1.2 doT模版使用</p>
<p> 1.3 使用doT版本实现列表数据展示</p>
</li>
<li><p><strong><a href="#P2">实现下拉刷新</a></strong></p>
<p> 2.1 下拉刷新实现机制</p>
<p> 2.2 相关API使用</p>
<p> 2.3 实现下拉刷新功能</p>
</li>
<li><p><strong><a href="#P3">实现上拉加载</a></strong></p>
<p> 3.1 上拉加载实现机制</p>
<p> 3.2 相关API使用</p>
<p> 3.3 实现上拉加载功能</p>
</li>
<li><p><strong><a href="#P4">实现图片缓存</a></strong></p>
<p> 4.1 图片缓存机制</p>
<p> 4.2 相关API使用</p>
<p> 4.3 实现图片缓存功能</p>
</li>
<li><p><strong><a href="#P5">本地数据存储</a></strong></p>
<p> 5.1 APICloud平台提供的本地数据存储能力</p>
<p> 5.2 数据存储相关API使用</p>
<p> 5.3 实现数据存储功能</p>
</li>
<li><p><strong><a href="#P6">应用沙箱结构</a></strong></p>
<p> 6.1 默认的沙箱位置</p>
<p> 6.2 修改Android默认沙箱位置</p>
</li>
<li><p><strong><a href="#P7">资源访问协议</a></strong></p>
<p> 7.1 资源存放的位置</p>
<p> 7.2 资源访问协议</p>
<p> 7.3 资源访问相关API属性</p>
</li>
</ol>
<p><div id="P1"></div></p>
<h1 id="1-使用JS模版展示列表数据"><a href="#1-使用JS模版展示列表数据" class="headerlink" title="1. 使用JS模版展示列表数据"></a>1. 使用JS模版展示列表数据</h1><p>—</p>
<h3 id="1-1-JS模版原理"><a href="#1-1-JS模版原理" class="headerlink" title="1.1 JS模版原理"></a>1.1 JS模版原理</h3><ul>
<li>在JS代码中写标签</li>
</ul>
<h3 id="1-2-doT模版使用"><a href="#1-2-doT模版使用" class="headerlink" title="1.2 doT模版使用"></a>1.2 doT模版使用</h3><ul>
<li><a href="https://github.com/apicloudcom/apicloud-js-module" target="_blank" rel="noopener">doT使用文档</a></li>
</ul>
<h3 id="1-3-使用doT版本实现列表数据展"><a href="#1-3-使用doT版本实现列表数据展" class="headerlink" title="1.3 使用doT版本实现列表数据展"></a>1.3 使用doT版本实现列表数据展</h3><p><div id="P2"></div></p>
<h1 id="2-实现下拉刷新"><a href="#2-实现下拉刷新" class="headerlink" title="2. 实现下拉刷新"></a>2. 实现下拉刷新</h1><p>—</p>
<h3 id="2-1-下拉刷新实现机制"><a href="#2-1-下拉刷新实现机制" class="headerlink" title="2.1 下拉刷新实现机制"></a>2.1 下拉刷新实现机制</h3><h3 id="2-2-相关API使用"><a href="#2-2-相关API使用" class="headerlink" title="2.2 相关API使用"></a>2.2 相关API使用</h3><h5 id="2-2-1-默认下拉刷新"><a href="#2-2-1-默认下拉刷新" class="headerlink" title="2.2.1 默认下拉刷新"></a>2.2.1 默认下拉刷新</h5><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#46" target="_blank" rel="noopener">api.setRefreshHeaderInfo()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#87" target="_blank" rel="noopener">api.refreshHeaderLoading()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#37" target="_blank" rel="noopener">api.refreshHeaderLoadDone</a></li>
</ul>
<h5 id="2-2-2-自定义下了刷新"><a href="#2-2-2-自定义下了刷新" class="headerlink" title="2.2.2 自定义下了刷新"></a>2.2.2 自定义下了刷新</h5><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#94" target="_blank" rel="noopener">api.setCustomRefreshHeaderInfo()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIPullRefresh" target="_blank" rel="noopener">UIPullRefresh模块</a></li>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIPullRefreshDrop" target="_blank" rel="noopener">UIPullRefreshDrop模块</a></li>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIPullRefreshFlash" target="_blank" rel="noopener">UIPullRefreshFlash模块</a></li>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIPullRefreshMotive" target="_blank" rel="noopener">UIPullRefreshMotive模块</a><br>h<h3 id="2-3-实现下拉刷新功能"><a href="#2-3-实现下拉刷新功能" class="headerlink" title="2.3 实现下拉刷新功能"></a>2.3 实现下拉刷新功能</h3></li>
</ul>
<p><div id="P3"></div></p>
<h1 id="3-实现加载更多"><a href="#3-实现加载更多" class="headerlink" title="3. 实现加载更多"></a>3. 实现加载更多</h1><p>—</p>
<h3 id="3-1-上拉加载实现机制"><a href="#3-1-上拉加载实现机制" class="headerlink" title="3.1 上拉加载实现机制"></a>3.1 上拉加载实现机制</h3><h3 id="3-2-相关API使用"><a href="#3-2-相关API使用" class="headerlink" title="3.2 相关API使用"></a>3.2 相关API使用</h3><ul>
<li>监听scrolltobottom事件</li>
</ul>
<h3 id="3-3-实现上拉加载功能"><a href="#3-3-实现上拉加载功能" class="headerlink" title="3.3 实现上拉加载功能"></a>3.3 实现上拉加载功能</h3><ul>
<li>tapmode处理（<a href="">api.parseTapmode()</a>）</li>
</ul>
<p><div id="P4"></div></p>
<h1 id="4-实现图片缓存"><a href="#4-实现图片缓存" class="headerlink" title="4. 实现图片缓存"></a>4. 实现图片缓存</h1><p>—</p>
<h3 id="4-1-图片缓存机制"><a href="#4-1-图片缓存机制" class="headerlink" title="4.1 图片缓存机制"></a>4.1 图片缓存机制</h3><h3 id="4-2-相关API使用"><a href="#4-2-相关API使用" class="headerlink" title="4.2 相关API使用"></a>4.2 相关API使用</h3><ul>
<li>图片缓存：<a href="http://docs.apicloud.com/Client-API/api#78" target="_blank" rel="noopener">api.imageCache()</a></li>
</ul>
<h3 id="4-3-实现图片缓存功能"><a href="#4-3-实现图片缓存功能" class="headerlink" title="4.3 实现图片缓存功能"></a>4.3 实现图片缓存功能</h3><p><div id="P5"></div></p>
<h1 id="5-本地数据存储"><a href="#5-本地数据存储" class="headerlink" title="5. 本地数据存储"></a>5. 本地数据存储</h1><p>—</p>
<h3 id="5-1-APICloud平台提供的本地数据存储能力"><a href="#5-1-APICloud平台提供的本地数据存储能力" class="headerlink" title="5.1 APICloud平台提供的本地数据存储能力"></a>5.1 APICloud平台提供的本地数据存储能力</h3><h3 id="5-1-1-localStorage"><a href="#5-1-1-localStorage" class="headerlink" title="5.1.1 localStorage"></a>5.1.1 localStorage</h3><ul>
<li>在平台内部扩展实现，不再受Webkit默认存储容量限制</li>
<li>实现跨窗口同步存取机制</li>
<li>支持JSON对象存取操作</li>
</ul>
<h3 id="5-1-2-偏好设置"><a href="#5-1-2-偏好设置" class="headerlink" title="5.1.2 偏好设置"></a>5.1.2 偏好设置</h3><ul>
<li>封装了系统偏好设置相关接口，应用内全局有效</li>
</ul>
<h2 id="5-1-3-文件"><a href="#5-1-3-文件" class="headerlink" title="#5.1.3 文件"></a>#5.1.3 文件</h2><ul>
<li>封装了标准的文件操作相关接口</li>
<li>支持同步方式接口调用</li>
</ul>
<h3 id="5-1-4-数据库"><a href="#5-1-4-数据库" class="headerlink" title="5.1.4 数据库"></a>5.1.4 数据库</h3><ul>
<li>封装了标准的数据库操作相关接口</li>
<li>支持同步方式接口调用</li>
</ul>
<h3 id="5-2-数据存储相关API使用"><a href="#5-2-数据存储相关API使用" class="headerlink" title="5.2 数据存储相关API使用"></a>5.2 数据存储相关API使用</h3><h3 id="5-2-1-localStorage"><a href="#5-2-1-localStorage" class="headerlink" title="5.2.1 localStorage"></a>5.2.1 localStorage</h3><ul>
<li><a href="http://docs.apicloud.com/Front-end-Framework/framework-dev-guide#37" target="_blank" rel="noopener">$api.setStorage()</a></li>
<li><a href="http://docs.apicloud.com/Front-end-Framework/framework-dev-guide#38" target="_blank" rel="noopener">$api.getStorage()</a></li>
<li><a href="http://docs.apicloud.com/Front-end-Framework/framework-dev-guide#39" target="_blank" rel="noopener">$api.rmStorage()</a></li>
<li><a href="http://docs.apicloud.com/Front-end-Framework/framework-dev-guide#40" target="_blank" rel="noopener">$api.clearStorage()</a></li>
</ul>
<h3 id="5-2-2-preference"><a href="#5-2-2-preference" class="headerlink" title="5.2.2 preference"></a>5.2.2 preference</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#45" target="_blank" rel="noopener">api.setPref()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#21" target="_blank" rel="noopener">api.getPref()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#39" target="_blank" rel="noopener">api.removePref()</a></li>
</ul>
<h3 id="5-2-3-file"><a href="#5-2-3-file" class="headerlink" title="5.2.3 file"></a>5.2.3 file</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#61" target="_blank" rel="noopener">api.writeFile()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#36" target="_blank" rel="noopener">api.readFile()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Func-Ext/fs" target="_blank" rel="noopener">fs模块</a></li>
</ul>
<h3 id="5-2-4-database"><a href="#5-2-4-database" class="headerlink" title="5.2.4 database"></a>5.2.4 database</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/Func-Ext/db" target="_blank" rel="noopener">db模块</a><ul>
<li>打开数据库</li>
</ul>
</li>
</ul>
<h3 id="5-2-5-存储容量相关"><a href="#5-2-5-存储容量相关" class="headerlink" title="5.2.5 存储容量相关"></a>5.2.5 存储容量相关</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/api#85" target="_blank" rel="noopener">api.getFreeDiskSpace()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#84" target="_blank" rel="noopener">api.getCacheSize()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/api#9" target="_blank" rel="noopener">api.clearCache()</a></li>
</ul>
<h3 id="5-3-实现数据存储功能"><a href="#5-3-实现数据存储功能" class="headerlink" title="5.3 实现数据存储功能"></a>5.3 实现数据存储功能</h3><ul>
<li>实现保存用户信息</li>
<li>实现保存购物车信息</li>
<li>实现清除缓存</li>
<li>实现退出登录</li>
<li>DB操作相关JS框架封装</li>
</ul>
<p><div id="P6"></div></p>
<h1 id="6-应用沙箱结构"><a href="#6-应用沙箱结构" class="headerlink" title="6. 应用沙箱结构"></a>6. 应用沙箱结构</h1><p>—</p>
<h3 id="6-1-默认的沙箱位置"><a href="#6-1-默认的沙箱位置" class="headerlink" title="6.1 默认的沙箱位置"></a>6.1 默认的沙箱位置</h3><ul>
<li>Android的默认沙箱位置：sdcard/UZMap/appId</li>
<li>iOS的默认沙箱位置：Documents/uzfs/appId</li>
</ul>
<h3 id="6-2-修改Android默认沙箱位置"><a href="#6-2-修改Android默认沙箱位置" class="headerlink" title="6.2 修改Android默认沙箱位置"></a>6.2 修改Android默认沙箱位置</h3><ul>
<li>通过修改config.xml文件中的sandbox属性，来指定Android虚拟沙箱位置<pre><code class="hljs routeros">&lt;widget <span class="hljs-attribute">id</span>=<span class="hljs-string">"A1234567890123"</span>, <span class="hljs-attribute">sandbox</span>=<span class="hljs-string">"myBox"</span>&gt;</code></pre>
</li>
</ul>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_play?list=2&amp;index=12" target="_blank" rel="noopener">初级代码篇第</a></em></p>
<p><div id="P7"></div></p>
<h1 id="7-资源访问协议"><a href="#7-资源访问协议" class="headerlink" title="7. 资源访问协议"></a>7. 资源访问协议</h1><p>—</p>
<h3 id="7-1-资源存放的位置"><a href="#7-1-资源存放的位置" class="headerlink" title="7.1 资源存放的位置"></a>7.1 资源存放的位置</h3><ul>
<li>widget包中</li>
<li>应用沙箱中（APICloud应用虚拟沙箱和Native应用真实沙箱）</li>
</ul>
<h3 id="7-2-资源访问协议"><a href="#7-2-资源访问协议" class="headerlink" title="7.2 资源访问协议"></a>7.2 资源访问协议</h3><ul>
<li>widget://（访问widget包中资源）</li>
<li>fs://（访问APICloud应用虚拟沙箱中资源）</li>
<li>cache://（访问缓存中资源）</li>
<li>box://（访问应用真实沙箱中的资源）</li>
</ul>
<h3 id="7-3-资源访问相关API属性"><a href="#7-3-资源访问相关API属性" class="headerlink" title="7.3 资源访问相关API属性"></a>7.3 资源访问相关API属性</h3><ul>
<li>api.wgtDir（返回widget包根路径）</li>
<li>api.fsDir（返回APICloud应用沙箱根路径）</li>
<li>api.cacheDir（返回缓存根路径）</li>
<li>api.boxDir（返回应用真实沙箱根路径）</li>
</ul>
<p><strong><em>第五天：了解APICloud引擎架构，理解模块扩展机制、调用过程和模块设计规范；掌握自定义模块扩展方法，掌握常用UI模块的使用；了解平台提供的多媒体支持能力及相关API</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/56a7db2d2ba277713bc30882efe12913.zip" target="_blank" rel="noopener">第五天课程源码</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day5.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="主要内容-4"><a href="#主要内容-4" class="headerlink" title="主要内容"></a>主要内容</h1><ol>
<li><strong><a href="#P1">APICloud端引擎架构介绍</a></strong></li>
<li><strong><a href="#P2">模块调用过程</a></strong></li>
<li><p><strong><a href="#P3">模块扩展机制</a></strong></p>
<p> 3.1 绑定<br> 3.2 桥接<br> 3.3 生命周期<br> 3.4 界面布局</p>
</li>
<li><p><strong><a href="#P4">自定义扩展模块</a></strong></p>
</li>
<li><p><strong><a href="#P5">扩展模块使用</a></strong></p>
<p> 5.1 UI类模块常用接口<br> 5.2 UI类模块使用</p>
</li>
<li><p><strong><a href="#P6">多媒体相关模块</a></strong></p>
<p> 6.1 APICloud平台多媒体能力支持<br> 6.2 相关API使用</p>
</li>
</ol>
<p><div id="P1"></div></p>
<h1 id="1-端引擎架构"><a href="#1-端引擎架构" class="headerlink" title="1. 端引擎架构"></a>1. 端引擎架构</h1><p>—<br><img src="http://docs.apicloud.com/img/docImage/seven-course/day5/5.1.png" srcset="/img/loading.gif" alt="端引擎架构"></p>
<p><div id="P2"></div></p>
<h1 id="2-模块调用过程"><a href="#2-模块调用过程" class="headerlink" title="2. 模块调用过程"></a>2. 模块调用过程</h1><p>—<br><img src="http://docs.apicloud.com/img/docImage/seven-course/day5/5.2.png" srcset="/img/loading.gif" alt="模块调用过程"></p>
<p><div id="P3"></div></p>
<h1 id="3-模块扩展机制"><a href="#3-模块扩展机制" class="headerlink" title="3. 模块扩展机制"></a>3. 模块扩展机制</h1><p>—</p>
<h3 id="3-1-绑定"><a href="#3-1-绑定" class="headerlink" title="3.1 绑定:"></a>3.1 绑定:</h3><ul>
<li>JavaScript对象与Native模块实例绑定；一对一或是一对多。</li>
</ul>
<h3 id="3-2-桥接"><a href="#3-2-桥接" class="headerlink" title="3.2 桥接:"></a>3.2 桥接:</h3><ul>
<li>JavaScript对象方法与Native模块接口桥接；通过module.json文件声明。</li>
</ul>
<h3 id="3-3-生命周期："><a href="#3-3-生命周期：" class="headerlink" title="3.3 生命周期："></a>3.3 生命周期：</h3><ul>
<li>通过引擎Native接口实现APP生命周期同步；创建、初始化、资源释放、销毁等。</li>
</ul>
<h3 id="3-4-界面布局："><a href="#3-4-界面布局：" class="headerlink" title="3.4 界面布局："></a>3.4 界面布局：</h3><ul>
<li>UI模块独立渲染，可以添加到Window或Frame中进行混合布局。</li>
</ul>
<p><div id="P4"></div></p>
<h1 id="4-如何自定义扩展模块"><a href="#4-如何自定义扩展模块" class="headerlink" title="4. 如何自定义扩展模块"></a>4. 如何自定义扩展模块</h1><p>—</p>
<p>开发者可以基于APICloud标准的模块扩展机制扩展自定义模块。</p>
<p><em>推荐文档</em></p>
<ul>
<li><a href="http://docs.apicloud.com/Dev-Guide/module-dev-guide-for-android" target="_blank" rel="noopener">Android模块开发指南</a></li>
<li><a href="http://docs.apicloud.com/Dev-Guide/module-dev-guide-for-ios" target="_blank" rel="noopener">iOS模块开发指南</a></li>
<li><a href="http://docs.apicloud.com/APICloud/module-dev-standard" target="_blank" rel="noopener">模块设计规范</a></li>
<li><a href="http://docs.apicloud.com/APICloud/Module-audit-specification-Android" target="_blank" rel="noopener">Android模块审核规范</a></li>
<li><a href="http://docs.apicloud.com/APICloud/Module-audit-specification-ios" target="_blank" rel="noopener">iOS模块审核规范</a></li>
<li><a href="http://docs.apicloud.com/APICloud/Upload-custom-module" target="_blank" rel="noopener">自定义模块使用说明</a></li>
</ul>
<p><em>推荐视频</em></p>
<ul>
<li><a href="http://apicloud.com/video_play?list=8&amp;index=1" target="_blank" rel="noopener">Android模块开发视频教程</a></li>
<li><a href="http://apicloud.com/video_play?list=6&amp;index=1" target="_blank" rel="noopener">iOS模块开发视频教程</a></li>
</ul>
<p><em>推荐源码</em></p>
<ul>
<li><a href="http://apicloud.com/source_code" target="_blank" rel="noopener">官方模块源码</a></li>
</ul>
<p><div id="P5"></div></p>
<h1 id="5-UI类扩展模块使用"><a href="#5-UI类扩展模块使用" class="headerlink" title="5. UI类扩展模块使用"></a>5. UI类扩展模块使用</h1><p>—</p>
<h3 id="5-1-UI类模块常用接口"><a href="#5-1-UI类模块常用接口" class="headerlink" title="5.1 UI类模块常用接口"></a>5.1 UI类模块常用接口</h3><ul>
<li><p>打开：open()</p>
<ul>
<li>指定rect(x,y,w,h)来定义显示区域</li>
<li>指定callback来注册事件监听函数</li>
<li>指定fixed和fixedOn参数来确定添加到的Window或Frame</li>
</ul>
</li>
<li><p>关闭：close()</p>
</li>
<li>隐藏：hide()</li>
<li>显示：show()</li>
<li>刷新：update()</li>
<li>赋值：setValue()</li>
<li>设置样式：setStyle()</li>
<li>重新加载：reloadData()</li>
<li>加载更多：appendData()</li>
</ul>
<h3 id="5-2-UI类模块使用Demo"><a href="#5-2-UI类模块使用Demo" class="headerlink" title="5.2 UI类模块使用Demo"></a>5.2 UI类模块使用Demo</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIInput" target="_blank" rel="noopener">UIInput</a></li>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIScrollPicture" target="_blank" rel="noopener">UIScrollPicture</a></li>
<li><a href="http://docs.apicloud.com/Client-API/UI-Layout/UIActionSelector" target="_blank" rel="noopener">UIActionSelector</a></li>
</ul>
<p><div id="P6"></div></p>
<h1 id="6-多媒体相关模块使用"><a href="#6-多媒体相关模块使用" class="headerlink" title="6. 多媒体相关模块使用"></a>6. 多媒体相关模块使用</h1><p>—</p>
<h3 id="6-1-APICloud平台多媒体能力支持"><a href="#6-1-APICloud平台多媒体能力支持" class="headerlink" title="6.1 APICloud平台多媒体能力支持"></a>6.1 APICloud平台多媒体能力支持</h3><ul>
<li><p>图片</p>
<ul>
<li>api对象：<ul>
<li>拍照或打开相册：<a href="http://docs.apicloud.com/Client-API/api#20" target="_blank" rel="noopener">api.getPicture()</a></li>
<li>保存到相册：<a href="http://docs.apicloud.com/Client-API/api#81" target="_blank" rel="noopener">api. saveMediaToAlbum()</a></li>
</ul>
</li>
<li>扩展模块：文档搜索</li>
</ul>
</li>
<li><p>音频</p>
<ul>
<li>api对象<ul>
<li>录音：<a href="http://docs.apicloud.com/Client-API/api#54" target="_blank" rel="noopener">api.startRecord</a>，<a href="http://docs.apicloud.com/Client-API/api#58" target="_blank" rel="noopener">api.stopRecord</a></li>
<li>播放：<a href="http://docs.apicloud.com/Client-API/api#53" target="_blank" rel="noopener">api.startPlay</a>，<a href="http://docs.apicloud.com/Client-API/api#57" target="_blank" rel="noopener">api.stopPlay</a></li>
</ul>
</li>
<li>扩展模块：文档搜索</li>
</ul>
</li>
<li><p>视频</p>
<ul>
<li>api对象<ul>
<li>播放：<a href="http://docs.apicloud.com/Client-API/api#62" target="_blank" rel="noopener">api.openVideo</a></li>
</ul>
</li>
<li>扩展模块：文档搜索</li>
</ul>
</li>
</ul>
<h3 id="6-2-相关API使用"><a href="#6-2-相关API使用" class="headerlink" title="6.2 相关API使用"></a>6.2 相关API使用</h3><p><strong><em>第六天：了解如何在APICloud应用中使用第三方开放平台服务，如推送、分享、地图等；了解APICloud平台目前以支撑的第三方服务，掌握第三方模块申请和使用流程；理解自定义Loader的原理，掌握如何编译、安装和使用自定义Loader调试应用。</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/0a92a2e3947b8563077bcca6dffeb51c.zip" target="_blank" rel="noopener">第六天课程源码</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day6.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="主要内容-5"><a href="#主要内容-5" class="headerlink" title="主要内容"></a>主要内容</h1><ol>
<li><p><strong><a href="#P1">集成第三方服务</a></strong></p>
<p> 1.1 第三方服务集成流程</p>
<p> 1.2 目前已经集成的第三方服务模块</p>
<p> 1.3 自己集成指定的第三方服务模块</p>
</li>
<li><p><strong><a href="#P2">自定义AppLoader</a></strong></p>
<p> 2.1 自定义Loader作业和运行原理</p>
<p> 2.2 编译自定义Loader</p>
<p> 2.3 安装自定义Loader</p>
<p> 2.4 使用自定义Loader</p>
</li>
<li><p><strong><a href="#P3">第三方服务模块使用流程</a></strong></p>
</li>
<li><strong><a href="#P4">第三方地图模块服务使用</a></strong></li>
<li><strong><a href="#P5">第三方登录服务使用</a></strong></li>
<li><strong><a href="#P6">第三方推送服务使用</a></strong></li>
</ol>
<p><div id="P1"></div></p>
<h1 id="1-第三方服务集成"><a href="#1-第三方服务集成" class="headerlink" title="1. 第三方服务集成"></a>1. 第三方服务集成</h1><h3 id="1-1-集成流程"><a href="#1-1-集成流程" class="headerlink" title="1.1 集成流程"></a>1.1 集成流程</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day6/6.1.png" srcset="/img/loading.gif" alt="集成流程"></p>
<h3 id="1-2-目前已经集成的第三方服务模块"><a href="#1-2-目前已经集成的第三方服务模块" class="headerlink" title="1.2 目前已经集成的第三方服务模块"></a>1.2 目前已经集成的第三方服务模块</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day6/6.2.png" srcset="/img/loading.gif" alt="集成情况"></p>
<p><em>详细参考：<a href="http://www.apicloud.com/mod-sdk" target="_blank" rel="noopener">APICloud聚合API-开发SDK</a></em></p>
<h3 id="1-3-自己集成指定的第三方服务模块"><a href="#1-3-自己集成指定的第三方服务模块" class="headerlink" title="1.3 自己集成指定的第三方服务模块"></a>1.3 自己集成指定的第三方服务模块</h3><p>与自定义扩展模块实现方式一样，详解自定义扩展模块相关文档和视频</p>
<p><div id="P2"></div></p>
<h1 id="2-自定义Loader"><a href="#2-自定义Loader" class="headerlink" title="2. 自定义Loader"></a>2. 自定义Loader</h1><p>AppLoader（官方或自定义）其实就是一个APP，只不过他启动后不会读区自己的Widget包中的网页代码，而是加载指定位置的网页代码。在进行调试的时候APICloud开发工具插件将测试代码同步的这个指定的位置。</p>
<h3 id="2-1-原理"><a href="#2-1-原理" class="headerlink" title="2.1 原理"></a>2.1 原理</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day6/6.3.png" srcset="/img/loading.gif" alt="自定义Loader"></p>
<h3 id="2-2-编译"><a href="#2-2-编译" class="headerlink" title="2.2 编译"></a>2.2 编译</h3><ul>
<li><a href="http://www.apicloud.com/module-loader" target="_blank" rel="noopener">网站编译入口</a></li>
<li>在工具插件中编译</li>
</ul>
<h3 id="2-3-安装"><a href="#2-3-安装" class="headerlink" title="2.3 安装"></a>2.3 安装</h3><ul>
<li>扫码</li>
<li>USB同步</li>
</ul>
<h3 id="2-4-使用"><a href="#2-4-使用" class="headerlink" title="2.4 使用"></a>2.4 使用</h3><ul>
<li>Sublime Text</li>
<li>webStorm</li>
<li>Atom</li>
<li>Eclipse</li>
<li>CLI</li>
</ul>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/Custom_Loader" target="_blank" rel="noopener">自定义Loader说明</a></em></p>
<p><em>推荐视频：<a href="http://apicloud.com/video_play?list=2&amp;index=9" target="_blank" rel="noopener">初级代码篇第9－10讲</a></em></p>
<p><div id="P3"></div></p>
<h1 id="3-第三方服务模块使用流程"><a href="#3-第三方服务模块使用流程" class="headerlink" title="3. 第三方服务模块使用流程"></a>3. 第三方服务模块使用流程</h1><ul>
<li>第一步：到第三方服务开放平台申请相关Id和Key</li>
<li>第二步：在APICloud应用的Config文件中配置相关Id和Key</li>
<li>第三步：确定控制台配置应用的包名和证书与申请开放服务时填写的完全一致</li>
<li>第四步：编译自定义Loader，使用自定义Loader调试</li>
<li>第五步：在应用代码中require相关模块，并调用API</li>
</ul>
<p><div id="P4"></div></p>
<h1 id="4-地图"><a href="#4-地图" class="headerlink" title="4. 地图"></a>4. 地图</h1><p>百度地图模块</p>
<ul>
<li>配置</li>
</ul>
<pre><code class="hljs pgsql">&lt;feature <span class="hljs-type">name</span>="bMap"&gt;

        &lt;param <span class="hljs-type">name</span>="android_api_key" <span class="hljs-keyword">value</span>="0nKBc8SkhvOGxGOLZ96Q6iWXcSU0iOhe" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="ios_api_key" <span class="hljs-keyword">value</span>="iObZMn4A1N6pxQBhgG4ElbHmaDNshPZR" /&gt;
        
&lt;/feature&gt;</code></pre>
<ul>
<li>定位：<a href="http://docs.apicloud.com/Client-API/Open-SDK/bMap#m6" target="_blank" rel="noopener">bMap.getLocation()</a></li>
<li>根据经纬度获得所在的城市：<a href="http://docs.apicloud.com/Client-API/Open-SDK/bMap#m9" target="_blank" rel="noopener">bMap.getNameFromCoords()</a></li>
<li>城市智能搜索：<a href="http://docs.apicloud.com/Client-API/Open-SDK/bMap#s7" target="_blank" rel="noopener">bMap.searchInCity()</a></li>
</ul>
<p><em>推荐文档</em></p>
<p><a href="http://docs.apicloud.com/Client-API/Open-SDK/bMap" target="_blank" rel="noopener">百度地图模块文档</a></p>
<p><a href="http://docs.apicloud.com/Others/Open-SDK-Integration-Guide/baidu" target="_blank" rel="noopener">百度开放平台接入指南</a></p>
<p><div id="P5"></div></p>
<h1 id="5-分享和登录"><a href="#5-分享和登录" class="headerlink" title="5. 分享和登录"></a>5. 分享和登录</h1><p>微信模块</p>
<ul>
<li>配置</li>
</ul>
<pre><code class="hljs pgsql"> &lt;feature <span class="hljs-type">name</span>="wx"&gt;
 
        &lt;param <span class="hljs-type">name</span>="urlScheme" <span class="hljs-keyword">value</span>="wxd0d84bbf23b4a0e4"/&gt;
        
        &lt;param <span class="hljs-type">name</span>="apiKey" <span class="hljs-keyword">value</span>="wxd0d84bbf23b4a0e4"/&gt;
        
        &lt;param <span class="hljs-type">name</span>="apiSecret" <span class="hljs-keyword">value</span>="a354f72aa1b4c2b8eaad137ac81434cd"/&gt;
        
&lt;/feature&gt;</code></pre>
<ul>
<li><p>分享</p>
<ul>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a2" target="_blank" rel="noopener">wx.shareText()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a3" target="_blank" rel="noopener">wx.shareImage()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a4" target="_blank" rel="noopener">wx.shareMusic()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a5" target="_blank" rel="noopener">wx.shareVideo()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a6" target="_blank" rel="noopener">wx.shareWebpage()</a></li>
</ul>
</li>
<li><p>登录</p>
<ul>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a7" target="_blank" rel="noopener">wx.auth()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a8" target="_blank" rel="noopener">wx.getToken()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a9" target="_blank" rel="noopener">wx.getUserInfo()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx#a10" target="_blank" rel="noopener">wx.refreshToken()</a></li>
</ul>
</li>
</ul>
<p><em>推荐文档</em></p>
<p><a href="http://docs.apicloud.com/Client-API/Open-SDK/wx" target="_blank" rel="noopener">微信模块文档</a></p>
<p><a href="http://docs.apicloud.com/Others/Open-SDK-Integration-Guide/weChat" target="_blank" rel="noopener">微信开放平台接入指南</a></p>
<p><em>推荐视频</em></p>
<p><a href="http://apicloud.com/video_play?list=2&amp;index=9" target="_blank" rel="noopener">初级代码篇第9－10讲</a></p>
<p><div id="P6"></div></p>
<h1 id="6-推送："><a href="#6-推送：" class="headerlink" title="6. 推送："></a>6. 推送：</h1><p>个推模块</p>
<ul>
<li>配置</li>
</ul>
<pre><code class="hljs pgsql">&lt;feature <span class="hljs-type">name</span>="pushGeTui"&gt;

        &lt;param <span class="hljs-type">name</span>="ios_appkey" <span class="hljs-keyword">value</span>="xCGkZR1bCp6gscLUB20Dl4" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="ios_appid" <span class="hljs-keyword">value</span>="G5lfFkQZ008VoZUXydA2r2" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="ios_appsecret" <span class="hljs-keyword">value</span>="RuxlC8ExWA7T4NFoJhQFd6" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="android_appkey" <span class="hljs-keyword">value</span>="SsYLDV34ik5CBgtdzCQ608" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="android_appid" <span class="hljs-keyword">value</span>="dASHvkJSLc9Q5vvSEALdI4" /&gt;
        
        &lt;param <span class="hljs-type">name</span>="android_appsecret" <span class="hljs-keyword">value</span>="BmjqFXsFDS6SVMyV2JXglA" /&gt;
        
&lt;/feature&gt;</code></pre>
<ul>
<li>初始化：<ul>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/pushGeTui#a1" target="_blank" rel="noopener">pushGeTui.initialize()</a></li>
<li><a href="http://docs.apicloud.com/Client-API/Open-SDK/pushGeTui#a2" target="_blank" rel="noopener">pushGeTui.registerDeviceToken()</a></li>
</ul>
</li>
<li>绑定</li>
<li>推送消息与通知</li>
<li>监听消息和通知</li>
<li>监听状态条通知点击事件</li>
</ul>
<p><a href="http://docs.apicloud.com/Client-API/Open-SDK/pushGeTui" target="_blank" rel="noopener">个推模块文档</a></p>
<p><a href="http://docs.apicloud.com/Others/Open-SDK-Integration-Guide/pushGeTui_manual" target="_blank" rel="noopener">个推开放平台接入指南</a></p>
<p><strong><em>第七天：掌握APICloud应用管理相关服务的配置使用和相关API，包括：应用发布、版本管理、云修复、闪屏广告等。理解APICloud APP优化策略和编码规范；了解APICloud多Widget管理机制和SuperWebview的使用</em></strong></p>
<p><a href="http://7xy8na.com1.z0.glb.clouddn.com/apicloud/4026ff033ea0ba2bfcf6a8a6ce20fa35.zip" target="_blank" rel="noopener">第七天课程源码</a></p>
<p>教程更新：<a href="https://github.com/apicloudcom/APICloud-7Days-Online-Training-Tutorials/blob/master/Day7.md" target="_blank" rel="noopener">Github地址</a></p>
<h1 id="主要内容-6"><a href="#主要内容-6" class="headerlink" title="主要内容"></a>主要内容</h1><p>—</p>
<ol>
<li><p><strong><a href="#P1">应用发布</a></strong></p>
<p> 1.1 云编译</p>
<p> 1.2 全包加密</p>
<p> 1.3 其它安全配置</p>
</li>
<li><p><strong><a href="#P2">版本管理</a></strong></p>
<p> 2.1 在APICloud控制台管理版本</p>
<p> 2.2 Config文件相关配置</p>
<p> 2.3 mam模块使用</p>
</li>
<li><p><strong><a href="#P3">云修复</a></strong></p>
<p> 3.1 在APICloud控制台进行云修复（应用内热更新）</p>
<p> 3.2 Config文件相关配置</p>
<p> 3.3 相关API使用</p>
</li>
<li><p><strong><a href="#P4">闪屏广告</a></strong></p>
<p> 4.1 在APICloud控制台使用闪屏广告</p>
<p> 4.2 Config文件相关配置</p>
<p> 4.3 相关API使用</p>
</li>
<li><p><strong><a href="#P5">优化策略</a></strong></p>
<p> 5.1 了解HTML5特性</p>
<p> 5.2 窗口结构</p>
<p> 5.3 网页加载速度</p>
<p> 5.4 不实用重型框架</p>
<p> 5.5 屏幕适配</p>
<p> 5.6 数据加载</p>
<p> 5.7 图片处理</p>
<p> 5.8 交互响应速度</p>
<p> 5.9 尊重系统特性</p>
</li>
<li><p><strong><a href="#P6">编码规范</a></strong></p>
</li>
<li><p><strong><a href="#P7">Widget管理</a></strong></p>
<p> 7.1 多Widget架构</p>
<p> 7.2 主Widget</p>
<p> 7.3 子Widget</p>
<p> 7.4 相关API使用</p>
</li>
<li><p><strong><a href="#P8">SuperWebview</a></strong></p>
<p> 8.1 SuperWebview介绍</p>
<p> 8.2 SuperWebview特点</p>
</li>
</ol>
<p><div id="P1"></div></p>
<h1 id="1-APICloud应用发布流程"><a href="#1-APICloud应用发布流程" class="headerlink" title="1. APICloud应用发布流程"></a>1. APICloud应用发布流程</h1><p>—</p>
<h3 id="1-1-云编译"><a href="#1-1-云编译" class="headerlink" title="1.1 云编译"></a>1.1 云编译</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day7/7.1.png" srcset="/img/loading.gif" alt="应用发布流程"></p>
<h3 id="1-2-代码全包加密"><a href="#1-2-代码全包加密" class="headerlink" title="1.2 代码全包加密"></a>1.2 代码全包加密</h3><ul>
<li><p>网页全包加密</p>
<p>  对网页包中全包的html,css,javascript代码进行加密，加密后的网友代码都是不可读的，并且不能通过常用的格式化工具恢复。代码在运行前都是加密的，在运行时进行动态解密。</p>
</li>
<li><p>一键加密、运行时解密</p>
<p>  在开发过程中无需对代码做任何特殊处理，在云编译时选择代码加密即可。</p>
</li>
<li><p>零修改、零影响</p>
<p>  加密后不改变代码大小，不影响运行效率。</p>
</li>
<li><p>安全盒子</p>
<p>  定义了一个安全盒子，在盒子内的代码按照加密和解密进行处理，其它代码不受影响。</p>
</li>
<li><p>重新定义资源标准</p>
<p>  对保护的代码进行统一资源管理，加速资源加载，加速代码运行。</p>
</li>
</ul>
<h3 id="1-3-其它安全配置"><a href="#1-3-其它安全配置" class="headerlink" title="1.3 其它安全配置"></a>1.3 其它安全配置</h3><p>Config文件中对access字段的配置</p>
<pre><code class="hljs ada">&lt;<span class="hljs-keyword">access</span> origin=<span class="hljs-string">"local"</span> /&gt;
&lt;<span class="hljs-keyword">access</span> origin=<span class="hljs-string">"http://apicloud.com"</span> /&gt;</code></pre>
<p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/app-config-manual" target="_blank" rel="noopener">应用配置说明</a></em></p>
<p><div id="P2"></div></p>
<h1 id="2-版本管理"><a href="#2-版本管理" class="headerlink" title="2. 版本管理"></a>2. 版本管理</h1><p>—</p>
<h3 id="2-1-在APICloud控制台管理版本"><a href="#2-1-在APICloud控制台管理版本" class="headerlink" title="2.1 在APICloud控制台管理版本"></a>2.1 在APICloud控制台管理版本</h3><p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/version_update" target="_blank" rel="noopener">本版管理使用说明</a></em></p>
<h3 id="2-2-Config文件相关配置"><a href="#2-2-Config文件相关配置" class="headerlink" title="2.2 Config文件相关配置"></a>2.2 Config文件相关配置</h3><pre><code class="hljs pgsql">&lt;preference <span class="hljs-type">name</span>="autoUpdate" <span class="hljs-keyword">value</span>="true" /&gt;</code></pre>
<h3 id="2-3-相关API使用"><a href="#2-3-相关API使用" class="headerlink" title="2.3 相关API使用"></a>2.3 相关API使用</h3><ul>
<li><a href="http://docs.apicloud.com/Client-API/Cloud-Service/mam" target="_blank" rel="noopener">mam模块</a></li>
</ul>
<p><div id="P3"></div></p>
<h1 id="3-云修复"><a href="#3-云修复" class="headerlink" title="3. 云修复"></a>3. 云修复</h1><p>—</p>
<p><img src="http://docs.apicloud.com/img/docImage/seven-course/day7/7.2.png" srcset="/img/loading.gif" alt="云修复"></p>
<h3 id="3-1-在APICloud控制台进行云修复（应用内热更新）"><a href="#3-1-在APICloud控制台进行云修复（应用内热更新）" class="headerlink" title="3.1 在APICloud控制台进行云修复（应用内热更新）"></a>3.1 在APICloud控制台进行云修复（应用内热更新）</h3><p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/smartUpdate" target="_blank" rel="noopener">云修复使用说明</a></em></p>
<h3 id="3-2-Config文件相关配置"><a href="#3-2-Config文件相关配置" class="headerlink" title="3.2 Config文件相关配置"></a>3.2 Config文件相关配置</h3><pre><code class="hljs pgsql">&lt;preference <span class="hljs-type">name</span>="autoUpdate" <span class="hljs-keyword">value</span>="true" /&gt;
&lt;preference <span class="hljs-type">name</span>="smartUpdate" <span class="hljs-keyword">value</span>="false" /&gt;</code></pre>
<h3 id="3-3-相关API使用"><a href="#3-3-相关API使用" class="headerlink" title="3.3 相关API使用"></a>3.3 相关API使用</h3><ul>
<li>smartupdatefinish事件</li>
<li>api.rebootApp()方法</li>
</ul>
<p><div id="P4"></div></p>
<h1 id="4-闪屏广告"><a href="#4-闪屏广告" class="headerlink" title="4. 闪屏广告"></a>4. 闪屏广告</h1><p>—</p>
<h3 id="4-1-在APICloud控制台使用闪屏广告"><a href="#4-1-在APICloud控制台使用闪屏广告" class="headerlink" title="4.1 在APICloud控制台使用闪屏广告"></a>4.1 在APICloud控制台使用闪屏广告</h3><p><em>推荐文档：<a href="http://docs.apicloud.com/Dev-Guide/start-page-ad-guid" target="_blank" rel="noopener">闪屏广告使用说明</a></em></p>
<h3 id="4-2-Config文件相关配置"><a href="#4-2-Config文件相关配置" class="headerlink" title="4.2 Config文件相关配置"></a>4.2 Config文件相关配置</h3><pre><code class="hljs pgsql">&lt;preference <span class="hljs-type">name</span>="autoUpdate" <span class="hljs-keyword">value</span>="true" /&gt;</code></pre>
<h3 id="4-3-相关API使用"><a href="#4-3-相关API使用" class="headerlink" title="4.3 相关API使用"></a>4.3 相关API使用</h3><ul>
<li>launchviewclicked事件</li>
</ul>
<p><div id="P5"></div></p>
<h1 id="5-优化策略"><a href="#5-优化策略" class="headerlink" title="5. 优化策略"></a>5. 优化策略</h1><p>—</p>
<h3 id="5-1-了解HTML5特性"><a href="#5-1-了解HTML5特性" class="headerlink" title="5.1 了解HTML5特性"></a>5.1 了解HTML5特性</h3><ul>
<li>去掉浏览器默认样式</li>
<li>可点击区域使用div</li>
<li>使用语义化的标签</li>
<li>发挥HTML5和CSS3的新特性</li>
</ul>
<h3 id="5-2-窗口结构"><a href="#5-2-窗口结构" class="headerlink" title="5.2 窗口结构"></a>5.2 窗口结构</h3><ul>
<li>Window + Frame 结构</li>
<li>Frame的高度计算</li>
<li>按需求优先使用Layout</li>
</ul>
<h3 id="5-3-页面加载速度"><a href="#5-3-页面加载速度" class="headerlink" title="5.3 页面加载速度"></a>5.3 页面加载速度</h3><ul>
<li>HTML、CSS、JS代码写在同一个页面中</li>
<li>公用的CSS、JS尽量少和小，不要随意加载无用的CSS或JS文件</li>
<li>尽量减少过多的link或script标签</li>
</ul>
<h3 id="5-4-不用重型框架"><a href="#5-4-不用重型框架" class="headerlink" title="5.4 不用重型框架"></a>5.4 不用重型框架</h3><ul>
<li>避免使用jQuery或BootStrap等重型的框架</li>
<li>摆脱对$的依赖，培养自己动手的习惯</li>
<li>使用Mobile First，功能独立的框架</li>
</ul>
<h3 id="5-5-屏幕适配"><a href="#5-5-屏幕适配" class="headerlink" title="5.5 屏幕适配"></a>5.5 屏幕适配</h3><ul>
<li>Viewport</li>
<li>UI尺寸</li>
<li>量图标准</li>
<li>布局方式（弹性响应式＋流式）</li>
</ul>
<h3 id="5-6-数据加载"><a href="#5-6-数据加载" class="headerlink" title="5.6 数据加载"></a>5.6 数据加载</h3><ul>
<li>掌握api.ajax所有参数配置作用，按需求配置使用</li>
<li>监听网络状态</li>
<li>合理处理异常信息</li>
<li>下拉刷新和上拉加载</li>
<li>JS模版</li>
<li>数据缓存</li>
</ul>
<h3 id="5-7-图片处理"><a href="#5-7-图片处理" class="headerlink" title="5.7 图片处理"></a>5.7 图片处理</h3><ul>
<li>减少内存占用</li>
<li>减少图片缩放等耗性能的操作</li>
<li>在服务区端或使用第三方存储服务来处理图片</li>
</ul>
<h3 id="5-8-交互响应速度"><a href="#5-8-交互响应速度" class="headerlink" title="5.8 交互响应速度"></a>5.8 交互响应速度</h3><ul>
<li>click事件速度优化</li>
<li>使用平台扩展手势事件</li>
<li>使用api.parseTapmode进行主动tapmode处理</li>
<li>点击区域和点击交互效果</li>
</ul>
<h3 id="5-9-尊重系统特性"><a href="#5-9-尊重系统特性" class="headerlink" title="5.9 尊重系统特性"></a>5.9 尊重系统特性</h3><ul>
<li>适时更新UI，理解窗体切换和界面渲染关系</li>
<li>避免body级别的背景图片，以原生的方式高效实现</li>
<li>页面之间使用pageParam传完成轻量级参数传递，避免使用过大的参数</li>
</ul>
<p><div id="P6"></div></p>
<h1 id="6-编码规范"><a href="#6-编码规范" class="headerlink" title="6. 编码规范"></a>6. 编码规范</h1><p>—</p>
<ul>
<li>遵循<a href="http://docs.apicloud.com/Dev-Guide/widget-package-structure-manual" target="_blank" rel="noopener">APICloud Widget包结构</a>来组成应用代码</li>
<li>Window、Frame及html文件命名规范</li>
<li>使用语义化的标签组织页面结构，JS代码中获取的元素要明确指定id，非语义化标签样式定义需要添加class</li>
<li>任何文件避免使用中文命名、不用包含大写字母</li>
<li>避免使用?进行参数传递，要使用pageParam</li>
</ul>
<p><div id="P7"></div></p>
<h1 id="7-Widget管理"><a href="#7-Widget管理" class="headerlink" title="7. Widget管理"></a>7. Widget管理</h1><p>—</p>
<h3 id="7-1-多Widget架构"><a href="#7-1-多Widget架构" class="headerlink" title="7.1 多Widget架构"></a>7.1 多Widget架构</h3><p><img src="http://docs.apicloud.com/img/docImage/seven-course/day7/7.3.png" srcset="/img/loading.gif" alt="应用组成结构"></p>
<ul>
<li>通过ID对Widget进行管理</li>
<li>Widget在界面上表现为独立的窗口容器，由多个窗口所组成</li>
<li>每一个Widget在代码、资源、窗口上都完全独立</li>
<li>同一时刻，应用中只能有一个Widget在界面显示</li>
<li>按作用分为主Widget和子Widget</li>
<li>Widget之间可以相互调用</li>
</ul>
<h3 id="7-2-主Widget"><a href="#7-2-主Widget" class="headerlink" title="7.2 主Widget"></a>7.2 主Widget</h3><ul>
<li>加载机制：是应用的入口Widget，应用启动之后首先自动加载运行主Widget</li>
<li>生命周期：等于整个应用的生命周期，关闭主Widget就会退出应用</li>
<li>配置文件：作为应用的配置文件，在云端编译应用的时候使用</li>
<li>代码位置：编译后存在于应用的安装包中，即ipa或apk包中</li>
</ul>
<h3 id="7-3-子Widget"><a href="#7-3-子Widget" class="headerlink" title="7.3 子Widget"></a>7.3 子Widget</h3><ul>
<li>加载机制：不会被应用自动加载运行，需要被其他的Widget调用才能运行</li>
<li>生命周期：从api.openWidget开始，到api.closeWidget结束</li>
<li>配置文件：对引擎和云端设置的配置项无效，其他的配置项有效</li>
<li>代码位置：可以存在于应用的安装包中，也可以存在于应用沙箱中</li>
</ul>
<h3 id="7-4-相关API使用"><a href="#7-4-相关API使用" class="headerlink" title="7.4 相关API使用"></a>7.4 相关API使用</h3><ul>
<li>打开子Widget：api.openWidget</li>
<li>关闭子Widget：api.closeWidget</li>
<li>获取参数：api.wgtParam</li>
</ul>
<blockquote>
<p>子Widget搜索路径：主widget包的wgt目录、沙箱中的wgt目录</p>
</blockquote>
<p><em>推荐视频：<a href="http://www.apicloud.com/video_play?list=2&amp;index=13" target="_blank" rel="noopener">初级代码篇第13讲</a></em></p>
<p><div id="P8"></div></p>
<h1 id="8-SuperWebview"><a href="#8-SuperWebview" class="headerlink" title="8. SuperWebview"></a>8. SuperWebview</h1><p>—</p>
<h3 id="8-1-SuperWebview介绍"><a href="#8-1-SuperWebview介绍" class="headerlink" title="8.1 SuperWebview介绍"></a>8.1 SuperWebview介绍</h3><p>SuperWebView是APICloud一款重要的端引擎产品，致力于解决系统WebView功能弱、体验差等问题，加速H5与Native的融合。SuperWebView以SDK的方式提供，原生应用嵌入SuperWebView替代系统WebView，即可在H5代码中使用APICloud平台的所有端API和云服务。</p>
<h3 id="8-2-SuperWebview特点"><a href="#8-2-SuperWebview特点" class="headerlink" title="8.2 SuperWebview特点"></a>8.2 SuperWebview特点</h3><ul>
<li>以SDK的方式提供，嵌入到原生工程中使用；</li>
<li>为每个应用动态编译生成专属的SuperWebView；</li>
<li>可以调用平台所有端API，通过应用控制台进行配置；</li>
<li>可以使用平台所有的云服务，如版本管理、云修复、数据云等；</li>
</ul>
<p><em>推荐文档</em></p>
<p><a href="http://docs.apicloud.com/Dev-Guide/SuperWebview-guide-for-android" target="_blank" rel="noopener">SuperWebview开发指南Android</a></p>
<p><a href="http://docs.apicloud.com/Dev-Guide/SuperWebview-guide-for-ios" target="_blank" rel="noopener">SuperWebview开发指南IOS</a></p>
<p><a href="http://docs.apicloud.com/superwebview/Android/" target="_blank" rel="noopener">SuperWebView Android API Reference</a></p>
<p><a href="http://docs.apicloud.com/superwebview/iOS/" target="_blank" rel="noopener">SuperWebView iOS API Reference</a></p>
<p><em>推荐视频</em></p>
<p><a href="http://www.apicloud.com/video_play?list=3&amp;index=1" target="_blank" rel="noopener">SuperWebview公开课视频</a></p>
<p><a href="http://www.apicloud.com/video_play?list=9&amp;index=1" target="_blank" rel="noopener">SuperWebview视频 Android</a></p>
<p><a href="http://www.apicloud.com/video_play?list=7&amp;index=1" target="_blank" rel="noopener">SuperWebview视频 iOS</a></p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/work/">work</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/APICloud-app%E6%B7%B7%E5%90%88%E5%BC%80%E5%8F%91/">APICloud app混合开发</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/07/24/k-%E8%BF%91%E9%82%BB%E7%AE%97%E6%B3%95/">
                        <span class="hidden-mobile">k-近邻算法</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud 统计PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            总访问量 
            <span id="leancloud-site-pv"></span>
             次
          </span>
      
      
        <!-- LeanCloud 统计UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            总访客数 
            <span id="leancloud-site-uv"></span>
             人
          </span>
      

    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer>
  (function () {
    // 查询存储的记录
    function getRecord(Counter, target) {
      return new Promise(function (resolve, reject) {
        Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({target})))
          .then(resp => resp.json())
          .then(({results, code, error}) => {
            if (code === 401) {
              throw error;
            }
            if (results && results.length > 0) {
              var record = results[0];
              resolve(record);
            } else {
              Counter('post', '/classes/Counter', {target, time: 0})
                .then(resp => resp.json())
                .then((record, error) => {
                  if (error) {
                    throw error;
                  }
                  resolve(record);
                }).catch(error => {
                console.error('Failed to create', error);
                reject(error);
              });
            }
          }).catch((error) => {
          console.error('LeanCloud Counter Error:', error);
          reject(error);
        });
      })
    }

    // 发起自增请求
    function increment(Counter, incrArr) {
      return new Promise(function (resolve, reject) {
        Counter('post', '/batch', {
          "requests": incrArr
        }).then((res) => {
          res = res.json();
          if (res.error) {
            throw res.error;
          }
          resolve(res);
        }).catch((error) => {
          console.error('Failed to save visitor count', error);
          reject(error);
        });
      });
    }

    // 构建自增请求体
    function buildIncrement(objectId) {
      return {
        "method": "PUT",
        "path": `/1.1/classes/Counter/${ objectId }`,
        "body": {
          "time": {
            '__op': 'Increment',
            'amount': 1
          }
        }
      }
    }

    // 校验是否为有效的 UV
    function validUV() {
      var key = 'LeanCloud_UV_Flag';
      var flag = localStorage.getItem(key);
      if (flag) {
        // 距离标记小于 24 小时则不计为 UV
        if (new Date().getTime() - parseInt(flag) <= 86400000) {
          return false;
        }
      }
      localStorage.setItem(key, new Date().getTime().toString());
      return true;
    }

    function addCount(Counter) {
      var enableIncr = 'true' === 'true' && window.location.hostname !== 'localhost';
      var getterArr = [];
      var incrArr = [];

      // 请求 PV 并自增
      var pvCtn = document.querySelector('#leancloud-site-pv-container');
      if (pvCtn || enableIncr) {
        var pvGetter = getRecord(Counter, 'site-pv').then((record) => {
          incrArr.push(buildIncrement(record.objectId))
          var ele = document.querySelector('#leancloud-site-pv');
          if (ele) {
            ele.innerText = record.time + 1;
            if (pvCtn) {
              pvCtn.style.display = 'inline';
            }
          }
        });
        getterArr.push(pvGetter);
      }

      // 请求 UV 并自增
      var uvCtn = document.querySelector('#leancloud-site-uv-container');
      if (uvCtn || enableIncr) {
        var uvGetter = getRecord(Counter, 'site-uv').then((record) => {
          var vuv = validUV();
          vuv && incrArr.push(buildIncrement(record.objectId))
          var ele = document.querySelector('#leancloud-site-uv');
          if (ele) {
            ele.innerText = record.time + (vuv ? 1 : 0);
            if (uvCtn) {
              uvCtn.style.display = 'inline';
            }
          }
        });
        getterArr.push(uvGetter);
      }

      // 如果是文章，请求文章的浏览数，并自增
      if ('true' === 'true') {
        var viewCtn = document.querySelector('#leancloud-post-views-container');
        if (viewCtn || enableIncr) {
          var target = decodeURI('/2020/07/24/APICloud/');
          var viewGetter = getRecord(Counter, target).then((record) => {
            incrArr.push(buildIncrement(record.objectId))
            if (viewCtn) {
              var ele = document.querySelector('#leancloud-post-views');
              if (ele) {
                ele.innerText = (record.time || 0) + 1;
                viewCtn.style.display = 'inline';
              }
            }
          });
          getterArr.push(viewGetter);
        }
      }

      // 如果启动计数自增，批量发起自增请求
      if (enableIncr) {
        Promise.all(getterArr).then(() => {
          incrArr.length > 0 && increment(Counter, incrArr);
        })
      }
    }

    var app_id = 'TiyaSIcTbSTjSzxKsX4KmQLG-gzGzoHsz'
    var app_key = 'SIWw0atj9HA0ctavk2YMoTEI'
    var server_url = 'https://tiyasict.lc-cn-n1-shared.com'

    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${ api_server }/1.1${ url }`, {
          method,
          headers: {
            'X-LC-Id': app_id,
            'X-LC-Key': app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };

      addCount(Counter);
    }

    var api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${ app_id.slice(0, 8).toLowerCase() }.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(resp => resp.json())
        .then(({api_server}) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>






  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: 'article.markdown-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "APICloud&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.staticfile.org/mathjax/3.0.5/es5/tex-svg.js" ></script>

  













  

  

  

  

  

  






<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/tororo.model.json"},"display":{"superSample":2,"width":150,"height":300,"position":"right","hOffset":0,"vOffset":-20},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
